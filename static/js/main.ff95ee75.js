/*! For license information please see main.ff95ee75.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var g=h(n,v);try{c(t,v,g)}catch(b){}}}}return t}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)r.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);v[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,_=60106,x=60107,T=60108,k=60114,I=60109,N=60110,C=60112,A=60113,D=60120,O=60115,P=60116,R=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),_=U("react.portal"),x=U("react.fragment"),T=U("react.strict_mode"),k=U("react.profiler"),I=U("react.provider"),N=U("react.context"),C=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function Q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case k:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return W(e.type);case R:return W(e._render);case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ye=(me=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ie=null,Ne=null;function Ce(e){if(e=ni(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),ke(e.stateNode,e.type,t))}}function Ae(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function De(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Oe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Oe,Me=!1,Fe=!1;function je(){null===Ie&&null===Ne||(Re(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ve=!1}function Be(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,Ke=null,He=!1,Qe=null,We={onError:function(e){ze=!0,Ke=e}};function Ge(e,t,n,r,i,o,a,s,u){ze=!1,Ke=null,Be.apply(We,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},xt={},Tt={};function kt(e){if(xt[e])return xt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return xt[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var It=kt("animationend"),Nt=kt("animationiteration"),Ct=kt("animationstart"),At=kt("transitionend"),Dt=new Map,Ot=new Map,Pt=["abort","abort",It,"animationEnd",Nt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Qt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function $t(e,t,n,r){Me||Re();var i=Xt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Wt(Qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=sn(mn),vn=sn(i({},mn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(wn),Sn=sn(i({},fn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return kn}var Nn=i({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Nn),An=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,$n=null;function Yn(e){Nr(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),$n=Gn=null)}function ir(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Wn(t,$n,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Pt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<_r.length;xr++)Ot.set(_r[xr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ge.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,He||(He=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}}}if(He)throw e=Qe,He=!1,Qe=null,e}function Cr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){kr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case It:case Nt:case Ct:u=bn;break;case At:u=On;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Ue(p,h))&&l.push(Lr(p,m,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(m,p+"leave",u,n,i)).target=f,s.relatedTarget=d,m=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,m=h;m;m=Fr(m))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&jr(a,s,u,l,!1),null!==c&&null!==f&&jr(a,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Jn;else if(Qn(s))if(Zn)y=ur;else{y=ar;var v=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=sr);switch(y&&(y=y(e,r))?Wn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ri(r):window,e){case"focusin":(Qn(v)||"true"===v.contentEditable)&&(gr=v,br=r,wr=null);break;case"focusout":wr=br=gr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(a,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(v=Mr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:v}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Nr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Vr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(a(168));li(hi,t),li(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var Si=null,_i=null,xi=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Ci=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},ji=null,Ui=null,Vi=!1,qi=Ci(),Bi=1e4>qi?Ci:function(){return Ci()-qi};function zi(){switch(Ai()){case Di:return 99;case Oi:return 98;case Pi:return 97;case Ri:return 96;case Li:return 95;default:throw Error(a(332))}}function Ki(e){switch(e){case 99:return Di;case 98:return Oi;case 97:return Pi;case 96:return Ri;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Ki(e),xi(e,t)}function Qi(e,t,n){return e=Ki(e),Ti(e,t,n)}function Wi(){if(null!==Ui){var e=Ui;Ui=null,ki(e)}Gi()}function Gi(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Di,Wi),n}finally{Vi=!1}}}var $i=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),pu(e,r,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=yi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=yi(t)?pi:hi.current,i.context=mi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Gu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case _:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||B(t))return(t=Gu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===x?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(So(n)||B(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=d(i,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(y=p(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=d(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=p(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===x&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===x){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=_o(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===x?((r=Gu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=_o(e,r,o),u.return=e,e=u)}return s(e);case _:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return m(e,r,o,u);if(B(o))return y(e,r,o,u);if(l&&xo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var ko=To(!0),Io=To(!1),No={},Co=ui(No),Ao=ui(No),Do=ui(No);function Oo(e){if(e===No)throw Error(a(174));return e}function Po(e,t){switch(li(Do,t),li(Ao,e),li(Co,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Co),li(Co,t)}function Ro(){ci(Co),ci(Ao),ci(Do)}function Lo(e){Oo(Do.current);var t=Oo(Co.current),n=de(t,e.type);t!==n&&(li(Ao,e),li(Co,n))}function Mo(e){Ao.current===e&&(ci(Co),ci(Ao))}var Fo=ui(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Vo=null,qo=!1;function Bo(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ko(e){if(qo){var t=Vo;if(t){var n=t;if(!zo(e,t)){if(!(t=Wr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,Vo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Uo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Qo(e){if(e!==Uo)return!1;if(!qo)return Ho(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Vo;t;)Bo(e,t),t=Wr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Uo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){Vo=Uo=null,qo=!1}var Go=[];function $o(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Yo=E.ReactCurrentDispatcher,Xo=E.ReactCurrentBatchConfig,Jo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Oa:Pa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Ra,e=n(r,i)}while(ra)}if(Yo.current=Da,t=null!==ea&&null!==ea.next,Jo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Jo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Zo.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function da(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,c=u.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=ta;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,m=h.source;h=h.subscribe;var y=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Aa.bind(null,Zo,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return da(ua(),e,t,n)}function ma(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Aa.bind(null,Zo,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},sa().memoizedState=e}function ga(){return ua().memoizedState}function ba(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ya(t,n,o,r)}Zo.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ea(e,t){return ba(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function _a(e,t){return wa(4,2,e,t)}function xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,xa.bind(null,t,e),n)}function ka(){}function Ia(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Aa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Da={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Oa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,Zo,e),[r.memoizedState,e]},useRef:va,useState:ma,useDebugValue:ka,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return va(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,ya(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return ma(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:Ia,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Na,useReducer:la,useRef:ga,useState:function(){return la(ca)},useDebugValue:ka,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return Sa((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:Ia,useContext:oo,useEffect:Sa,useImperativeHandle:Ta,useLayoutEffect:_a,useMemo:Na,useReducer:fa,useRef:ga,useState:function(){return fa(ca)},useDebugValue:ka,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},La=E.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Io(t,null,n,r):ko(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Su(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Su(t,r);return Fa(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=yi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ka(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=mi(t,c=yi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),ao=!1;var h=t.memoizedState;a.state=h,ho(t,r,a,i),u=t.memoizedState,s!==r||h!==u||di.current||ao?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=ao||go(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=oo(u):u=mi(t,u=yi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&wo(t,a,r,u),ao=!1,h=t.memoizedState,a.state=h,ho(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||di.current||ao?("function"===typeof d&&(yo(t,n,d,r),p=t.memoizedState),(c=ao||go(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Qa(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Po(e,t.containerInfo)}var Wa,Ga,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Fo,1&o),null===e?(void 0!==i.fallback&&Ko(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Gu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Qu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Qu(a,s),null!==e?r=Qu(e,r):(r=Gu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&vi(),null;case 3:return Ro(),ci(di),ci(hi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Ga(t),null;case 5:Mo(t);var o=Oo(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(Co.current),Qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Jr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Cr(Tr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Wa(e,t,!1,!1),t.stateNode=e,c=xe(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Cr(Tr[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}_e(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ve(e,f):"number"===typeof f&&ve(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Do.current),Oo(Co.current),Qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&qs)&&0===(134217727&Bs)||gu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),Ga(t),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,li(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(di),ci(hi),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(){},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(Co.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(a(163))}function vs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:ms(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Es(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(Es(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):xs(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ve(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Bi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,As=E.ReactCurrentDispatcher,Ds=E.ReactCurrentOwner,Os=0,Ps=null,Rs=null,Ls=0,Ms=0,Fs=ui(0),js=0,Us=null,Vs=0,qs=0,Bs=0,zs=0,Ks=null,Hs=0,Qs=1/0;function Ws(){Qs=Bi()+500}var Gs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Os)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=mu(e,t)))return null;Bt(e,t,n),e===Ps&&(Bs|=t,4===js&&gu(e,Ls));var r=zi();1===t?0!==(8&Os)&&0===(48&Os)?bu(e):(yu(e,n),0===Os&&(Ws(),Wi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Ks=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ps?Ls:0),t=Lt,0===r)null!==n&&(n!==Mi&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&ki(n)}15===t?(n=bu.bind(null,e),null===ji?(ji=[n],Ui=Ti(Di,Gi)):ji.push(n),n=Mi):14===t?n=Qi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Qi(n,vu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=ku();for(Ps===e&&Ls===r||(Ws(),xu(e,r));;)try{Cu();break}catch(u){Tu(e,u)}if(to(),As.current=o,Os=i,null!==Rs?r=0:(Ps=null,Ls=0,r=js),0!==(Vs&Bs))xu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=jt(e))&&(r=Iu(e,n))),1===r)throw t=Us,xu(e,0),gu(e,n),yu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return yu(e,Bi()),e.callbackNode===t?vu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Os))throw Error(a(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(Vs&Bs)&&(n=Iu(e,t=Ft(e,t)))}else n=Iu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=jt(e))&&(n=Iu(e,t))),1===n)throw n=Us,xu(e,0),gu(e,t),yu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),yu(e,Bi()),null}function wu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Ws(),Wi())}}function Eu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Ws(),Wi())}}function Su(e,t){li(Fs,Ms),Ms|=t,Vs|=t}function _u(){Ms=Fs.current,ci(Fs)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ro(),ci(di),ci(hi),$o();break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ci(Fo);break;case 10:no(r);break;case 23:case 24:_u()}n=n.return}Ps=e,Rs=Qu(e.current,null),Ls=Ms=Vs=t,js=0,Us=null,zs=Bs=qs=0}function Tu(e,t){for(;;){var n=Rs;try{if(to(),Yo.current=Da,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ta=ea=Zo=null,ra=!1,Ds.current=null,null===n||null===n.return){js=1,Us=t,Rs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var v=new Set;v.add(c),h.updateQueue=v}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=co(-1,1);g.tag=2,lo(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=qu.bind(null,o,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,fo(h,hs(0,o,t));break e;case 1:o=u;var E=h.type,S=h.stateNode;if(0===(64&h.flags)&&("function"===typeof E.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Js||!Js.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,fo(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Du(n)}catch(_){t=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function ku(){var e=As.current;return As.current=Da,null===e?Da:e}function Iu(e,t){var n=Os;Os|=16;var r=ku();for(Ps===e&&Ls===t||xu(e,t);;)try{Nu();break}catch(i){Tu(e,i)}if(to(),Os=n,As.current=r,null!==Rs)throw Error(a(261));return Ps=null,Ls=0,js}function Nu(){for(;null!==Rs;)Au(Rs)}function Cu(){for(;null!==Rs&&!Ii();)Au(Rs)}function Au(e){var t=Gs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Du(e):Rs=t,Ds.current=null}function Du(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=zi();return Hi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Rs=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ds.current=null,Vr=Gt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(k){u=null;break e}var f=0,h=-1,d=-1,p=0,m=0,y=s,v=null;t:for(;;){for(var g;y!==u||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)v=y,y=g;for(;;){if(y===s)break t;if(v===u&&++p===o&&(h=f),v===c&&++m===l&&(d=f),null!==(g=y.nextSibling))break;v=(y=v).parentNode}y=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Gt=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ve($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:Ss($s),$s.flags&=-3;break;case 6:Ss($s),$s.flags&=-3,ks($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,ks($s.alternate,$s);break;case 4:ks($s.alternate,$s);break;case 8:Ts(s,u=$s);var S=u.alternate;ws(u),null!==S&&ws(S)}$s=$s.nextEffect}}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);if(E=qr,w=mr(),b=E.focusedElem,s=E.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(w=s.start,void 0===(E=s.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!E.extend&&S>s&&(u=s,s=S,S=u),u=dr(b,S),o=dr(b,s),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),S>s?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!Vr,qr=Vr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var _=$s.flags;if(36&_&&vs(b,$s.alternate,$s),128&_){w=void 0;var x=$s.ref;if(null!==x){var T=$s.stateNode;$s.tag,w=T,"function"===typeof x?x(w):x.current=w}}$s=$s.nextEffect}}catch(k){if(null===$s)throw Error(a(330));Vu($s,k),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(k){}if(yu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||Wi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&Ns(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ys(e,$s),0===(512&t)||Zs||(Zs=!0,Qi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Qi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Wi(),!0}function Uu(e,t,n){lo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=mu(e,1))&&(Bt(e,1,t),yu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(lo(n,i),i=hu(),null!==(n=mu(n,1)))Bt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>Bi()-Hs?xu(e,0):zs|=n),yu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=mu(e,t))&&(Bt(e,t,n),yu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new zu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Gu(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case k:return(e=Ku(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case A:return(e=Ku(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case D:return(e=Ku(19,n,t,i)).elementType=D,e.lanes=o,e;case F:return $u(n,i,o,t);case j:return(e=Ku(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case N:s=9;break e;case C:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),pu(i,s,o),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(a);s.call(e)}}Zu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(a);u.call(e)}}Eu((function(){Zu(t,a,e,i)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Qa(t),Wo();break;case 5:Lo(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(li(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ka(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Wr(t.stateNode.containerInfo.firstChild),Uo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Wo();t=t.child}return t;case 5:return Lo(t),null===e&&Ko(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return Ja(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=co(-1,n&-n)).tag=2,lo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ro(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ua(e,t,i,o=Yi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=wu,Pe=function(e,t,n,r,i){var o=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Ws(),Wi())}},Re=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Bi())}))}Wi()}(),Lu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Ws(),Wi())}};var sc={Events:[ni,ri,ii,Ae,De,Lu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Si=lc.inject(cc),_i=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Os=n,Wi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(Eu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case m:case u:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||E(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E},86:(e,t,n)=>{"use strict";e.exports=n(82)},292:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},340:(e,t,n)=>{var r=n(292);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],m=n[2],y=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=p&&p!==m,S="+"===b||"*"===b,_="?"===b||"*"===b,x=n[2]||l,T=v||g;r.push({name:y||o++,prefix:m||"",delimiter:x,optional:_,repeat:S,partial:E,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(x)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if("function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=g.prototype=new v;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(s=e[c],c);u+=I(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(f,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,v=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+g;try{y(!0,e)?E.postMessage(null):(m=!1,y=null)}catch(n){throw E.postMessage(null),n}}else m=!1},n=function(e){y=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],I=[],N=1,C=null,A=3,D=!1,O=!1,P=!1;function R(e){for(var t=_(I);null!==t;){if(null===t.callback)x(I);else{if(!(t.startTime<=e))break;x(I),t.sortIndex=t.expirationTime,S(k,t)}t=_(I)}}function L(e){if(P=!1,R(e),!O)if(null!==_(k))O=!0,n(M);else{var t=_(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),D=!0;var o=A;try{for(R(n),C=_(k);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,A=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===_(k)&&x(k),R(n)}else x(k);C=_(k)}if(null!==C)var u=!0;else{var c=_(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,A=o,D=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(k)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(I,e),null===_(k)&&e===_(I)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=u,S(k,e),O||D||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/chef_samurai/",(()=>{"use strict";var e=n(43),t=n(950);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const u=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&a(e),u=t&&a(t),c=o||u;if(e&&a(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&a(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};var c=!0,l="Invariant failed";function f(e,t){if(!e){if(c)throw new Error(l);var n="function"===typeof t?t():t,r=n?"".concat(l,": ").concat(n):l;throw new Error(r)}}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Ym){throw Ym instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Ym}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=u(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var E="popstate",S="hashchange";function _(){try{return window.history.state||{}}catch(Ym){return{}}}function x(e){void 0===e&&{},b||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?w:u,l=i.keyLength,d=void 0===l?6:l,x=e.basename?m(h(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return x&&p(o,x),v(o,r,n)}function k(){return Math.random().toString(36).substr(2,d)}var I=g();function N(e){o(V,e),V.length=t.length,I.notifyListeners(V.location,V.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(T(e.state))}function A(){O(T(_()))}var D=!1;function O(e){if(D)N();else{I.confirmTransitionTo(e,"POP",c,(function(t){t?N({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&0;var r=R.indexOf(e.key);-1===r&&0;var i=n-r;i&&M(i)}(e)}))}}var P=T(_()),R=[P.key];function L(e){return x+y(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(E,C),r&&window.addEventListener(S,A)):0===F&&(window.removeEventListener(E,C),r&&window.removeEventListener(S,A))}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",o=v(e,r,k(),V.location);I.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(o.key),N({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,k(),V.location);I.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=o.key),N({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=I.setPrompt(e);return U||(j(1),!0),function(){return U&&j(-1),t()}},listen:function(e){var t=I.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var T="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(I(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),b||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?w:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?m(h(e.basename)):"",c=k[s],l=c.encodePath,d=c.decodePath;function E(){var e=d(N());return u&&(e=p(e,u)),v(e)}var S=g();function _(e){o(V,e),V.length=t.length,S.notifyListeners(V.location,V.action)}var x=!1,A=null;function D(){var e,t,n=N(),r=l(n);if(n!==r)C(r);else{var o=E(),a=V.location;if(!x&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===y(o))return;A=null,function(e){if(x)x=!1,_();else{var t="POP";S.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(y(t));-1===n&&(n=0);var r=L.lastIndexOf(y(e));-1===r&&(r=0);var i=n-r;i&&(x=!0,M(i))}(e)}))}}(o)}}var O=N(),P=l(O);O!==P&&C(P);var R=E(),L=[y(R)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(T,D):0===F&&window.removeEventListener(T,D)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+l(u+y(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,V.location);S.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);if(N()!==i){A=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(y(V.location)),a=L.slice(0,o+1);a.push(t),L=a,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,V.location);S.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);N()!==i&&(A=t,C(i));var o=L.indexOf(y(V.location));-1!==o&&(L[o]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=S.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function D(e,t,n){return Math.min(Math.max(e,t),n)}var O=n(173),P=n.n(O),R=1073741823,L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var M=e.createContext||function(t,n){var r,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return L[e]=(L[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):R,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);s.childContextTypes=((r={})[a]=P().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?R:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?R:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((o={})[a]=P().object,o),{Provider:s,Consumer:u}};const F=M;var j=n(340),U=n.n(j);n(86);function V(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(219);var q=function(e){var t=F();return t.displayName=e,t},B=q("Router"),z=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(B.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},n}(e.Component);e.Component;e.Component;var K={},H=1e4,Q=0;function W(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=K[n]||(K[n]={});if(r[e])return r[e];var i=[],o={regexp:U()(e,i,t),keys:i};return Q<H&&(r[e]=o,Q++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var G=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(B.Consumer,null,(function(n){n||f(!1);var r=t.props.location||n.location,i=o({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?W(r.pathname,t.props):n.match}),a=t.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),e.createElement(B.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?e.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(e.Component);function $(e){return"/"===e.charAt(0)?e:"/"+e}function Y(e,t){if(!e)return t;var n=$(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function X(e){return"string"===typeof e?e:y(e)}function J(e){return function(){f(!1)}}function Z(){}e.Component;var ee=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(B.Consumer,null,(function(n){n||f(!1);var r,i,a=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var s=t.props.path||t.props.from;i=s?W(a.pathname,o({},t.props,{path:s})):n.match}})),i?e.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(e.Component);var te=e.useContext;function ne(){return te(B).history}function re(){return te(B).location}e.Component;var ie=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=A(e.props),e}return i(n,t),n.prototype.render=function(){return e.createElement(z,{history:this.history,children:this.props.children})},n}(e.Component);var oe=function(e,t){return"function"===typeof e?e(t):e},ae=function(e,t){return"string"===typeof e?v(e,null,null,t):e},se=function(e){return e},ue=e.forwardRef;"undefined"===typeof ue&&(ue=se);var ce=ue((function(t,n){var r=t.innerRef,i=t.navigate,a=t.onClick,s=V(t,["innerRef","navigate","onClick"]),u=s.target,c=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=se!==ue&&n||r,e.createElement("a",c)}));var le=ue((function(t,n){var r=t.component,i=void 0===r?ce:r,a=t.replace,s=t.to,u=t.innerRef,c=V(t,["component","replace","to","innerRef"]);return e.createElement(B.Consumer,null,(function(t){t||f(!1);var r=t.history,l=ae(oe(s,t.location),t.location),h=l?r.createHref(l):"",d=o({},c,{href:h,navigate:function(){var e=oe(s,t.location);(a?r.replace:r.push)(e)}});return se!==ue?d.ref=n||u:d.innerRef=u,e.createElement(i,d)}))})),fe=function(e){return e},he=e.forwardRef;"undefined"===typeof he&&(he=fe);he((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.activeClassName,s=void 0===a?"active":a,u=t.activeStyle,c=t.className,l=t.exact,h=t.isActive,d=t.location,p=t.strict,m=t.style,y=t.to,v=t.innerRef,g=V(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return e.createElement(B.Consumer,null,(function(t){t||f(!1);var r=d||t.location,a=ae(oe(y,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=w?W(r.pathname,{path:w,exact:l,strict:p}):null,S=!!(h?h(E,r):E),_=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,s):c,x=S?o({},m,{},u):m,T=o({"aria-current":S&&i||null,className:_,style:x,to:a},g);return fe!==he?T.ref=n||v:T.innerRef=v,e.createElement(le,T)}))}));var de=n(579);function pe(){const[t,n]=(0,e.useState)(""),r=ne();return(0,de.jsx)("div",{className:"w-full",children:(0,de.jsx)("form",{onSubmit:e=>{e.preventDefault(),r.push("/search?q=".concat(t))},className:"relative",children:(0,de.jsx)("div",{className:"relative",children:(0,de.jsx)("input",{type:"text",id:"search",placeholder:"Pesquisar receitas...",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 bg-warm-white bg-opacity-95 border border-golden border-opacity-30 rounded-full text-charcoal placeholder-brown focus:outline-none focus:ring-2 focus:ring-golden focus:ring-opacity-50 focus:border-transparent transition-all duration-200",required:!0})})})})}function me(){return(0,de.jsx)("div",{className:"bg-food-gradient shadow-warm",children:(0,de.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,de.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,de.jsx)(le,{to:"/",className:"flex items-center space-x-2",children:(0,de.jsx)("h1",{className:"text-xl font-bold text-white",children:"Chef Samurai"})}),(0,de.jsx)("div",{className:"flex-1 max-w-lg mx-8",children:(0,de.jsx)(pe,{})}),(0,de.jsx)(le,{to:"/create",className:"bg-warm-white text-tomato hover:bg-golden hover:text-charcoal font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-warm hover:shadow-food",children:"Criar Receita"})]})})})}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ve(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}function ge(e,t,n){return(t=ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e,t){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ee(e,t)};function Se(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _e=function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_e.apply(this,arguments)};function xe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(Ym){o(Ym)}}function s(e){try{u(r.throw(e))}catch(Ym){o(Ym)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Te(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(Ym){s=[6,Ym],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function ke(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ne(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ce=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ce(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},De=function(e){return function(e){var t=Ce(e);return Ae.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Oe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Pe(n)&&(e[n]=Oe(e[n],t[n]));return e}function Pe(e){return"__proto__"!==e}var Re=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Le(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Me(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ym){return!1}}var Fe=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,je.prototype.create),o}return Se(t,e),t}(Error),je=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(Ue,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new Fe(i,s,r)},e}();var Ue=/\{\$([^}]+)}/g;function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function qe(e,t){var n=new Be(e,t);return n.subscribe.bind(n)}var Be=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ze),void 0===r.error&&(r.error=ze),void 0===r.complete&&(r.complete=ze);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Ym){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Ym){"undefined"!==typeof console&&console.error&&console.error(Ym)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ze(){}function Ke(e){return e&&e._delegate?e._delegate:e}var He=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Qe="[DEFAULT]",We=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Re;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Ym){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ym){if(r)return null;throw Ym}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qe})}catch(Ym){}try{for(var r=ke(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ie(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Ym){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Qe),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return xe(this,void 0,void 0,(function(){var e;return Te(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ne(Ne([],Ie(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Ie(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Qe),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=Qe),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=ke(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=Ie(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=ke(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qe?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Am){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Qe),this.component?this.component.multipleInstances?e:Qe:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var Ge,$e=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new We(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Ye(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Xe,Je=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xe||(Xe={}));var Ze,et={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},tt=Xe.INFO,nt=((Ge={})[Xe.DEBUG]="log",Ge[Xe.VERBOSE]="log",Ge[Xe.INFO]="info",Ge[Xe.WARN]="warn",Ge[Xe.ERROR]="error",Ge),rt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=nt[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Ye(["["+i+"]  "+e.name+":"],n))}},it=function(){function e(e){this.name=e,this._logLevel=tt,this._logHandler=rt,this._userLogHandler=null,Je.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Xe))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?et[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.DEBUG],e)),this._logHandler.apply(this,Ye([this,Xe.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.VERBOSE],e)),this._logHandler.apply(this,Ye([this,Xe.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.INFO],e)),this._logHandler.apply(this,Ye([this,Xe.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.WARN],e)),this._logHandler.apply(this,Ye([this,Xe.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ye([this,Xe.ERROR],e)),this._logHandler.apply(this,Ye([this,Xe.ERROR],e))},e}();function ot(e){Je.forEach((function(t){t.setLogLevel(e)}))}var at,st=((Ze={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ze["bad-app-name"]="Illegal App name: '{$appName}",Ze["duplicate-app"]="Firebase App named '{$appName}' already exists",Ze["app-deleted"]="Firebase App named '{$appName}' already deleted",Ze["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ze["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ze),ut=new je("app","Firebase",st),ct="@firebase/app",lt="[DEFAULT]",ft=((at={})[ct]="fire-core",at["@firebase/analytics"]="fire-analytics",at["@firebase/app-check"]="fire-app-check",at["@firebase/auth"]="fire-auth",at["@firebase/database"]="fire-rtdb",at["@firebase/functions"]="fire-fn",at["@firebase/installations"]="fire-iid",at["@firebase/messaging"]="fire-fcm",at["@firebase/performance"]="fire-perf",at["@firebase/remote-config"]="fire-rc",at["@firebase/storage"]="fire-gcs",at["@firebase/firestore"]="fire-fst",at["fire-js"]="fire-js",at["firebase-wrapper"]="fire-js-all",at),ht=new it("@firebase/app"),dt=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Oe(void 0,e),this.container=new $e(t.name),this._addComponent(new He("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=lt),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=lt),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Ym){ht.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Ym)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ut.create("app-deleted",{appName:this.name_})},e}();dt.prototype.name&&dt.prototype.options||dt.prototype.delete||console.log("dc");var pt="8.10.0";function mt(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=lt);var a=o.name;if("string"!==typeof a||!a)throw ut.create("bad-app-name",{appName:String(a)});if(Ve(t,a))throw ut.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ht.warn(u.join(" "))}o(new He(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:ot,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw ut.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=et[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Xe[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Je;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:pt,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Ve(t,e=e||lt))throw ut.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ht.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw ut.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Oe(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var yt=function e(){var t=mt(dt);return t.INTERNAL=_e(_e({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Oe(t,e)},createSubscribe:qe,ErrorFactory:je,deepExtend:Oe}),t}(),vt=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var bt=yt.initializeApp;yt.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Me()&&ht.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),bt.apply(void 0,e)};var wt=yt;!function(e,t){e.INTERNAL.registerComponent(new He("platform-logger",(function(e){return new vt(e)}),"PRIVATE")),e.registerVersion(ct,"0.6.30",t),e.registerVersion("fire-js","")}(wt);const Et=wt;var St="8.10.1";Et.registerVersion("firebase",St,"app"),Et.SDK_VERSION=St;var _t=function(e,t){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_t(e,t)};function xt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Tt,kt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},It=It||{},Nt=kt||self;function Ct(){}function At(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Dt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ot="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function Rt(e,t,n){return e.call.apply(e.bind,arguments)}function Lt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mt(e,t,n){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rt:Lt).apply(null,arguments)}function Ft(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ut(){this.s=this.s,this.o=this.o}var Vt={};Ut.prototype.s=!1,Ut.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ot)&&e[Ot]||(e[Ot]=++Pt)}(this);delete Vt[e]}},Ut.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Bt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function zt(e){return Array.prototype.concat.apply([],arguments)}function Kt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ht(e){return/^[\s\xa0]*$/.test(e)}var Qt,Wt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gt(e,t){return-1!=e.indexOf(t)}function $t(e,t){return e<t?-1:e>t?1:0}e:{var Yt=Nt.navigator;if(Yt){var Xt=Yt.userAgent;if(Xt){Qt=Xt;break e}}Qt=""}function Jt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zt(e){var t={};for(var n in e)t[n]=e[n];return t}var en="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<en.length;o++)n=en[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function nn(e){return nn[" "](e),e}nn[" "]=Ct;var rn,on=Gt(Qt,"Opera"),an=Gt(Qt,"Trident")||Gt(Qt,"MSIE"),sn=Gt(Qt,"Edge"),un=sn||an,cn=Gt(Qt,"Gecko")&&!(Gt(Qt.toLowerCase(),"webkit")&&!Gt(Qt,"Edge"))&&!(Gt(Qt,"Trident")||Gt(Qt,"MSIE"))&&!Gt(Qt,"Edge"),ln=Gt(Qt.toLowerCase(),"webkit")&&!Gt(Qt,"Edge");function fn(){var e=Nt.document;return e?e.documentMode:void 0}e:{var hn="",dn=function(){var e=Qt;return cn?/rv:([^\);]+)(\)|;)/.exec(e):sn?/Edge\/([\d\.]+)/.exec(e):an?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ln?/WebKit\/(\S+)/.exec(e):on?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dn&&(hn=dn?dn[1]:""),an){var pn=fn();if(null!=pn&&pn>parseFloat(hn)){rn=String(pn);break e}}rn=hn}var mn,yn={};function vn(){return function(e){var t=yn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Wt(String(rn)).split("."),n=Wt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=$t(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||$t(0==o[2].length,0==a[2].length)||$t(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Nt.document&&an){var gn=fn();mn=gn||(parseInt(rn,10)||void 0)}else mn=void 0;var bn=mn,wn=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Nt.addEventListener("test",Ct,t),Nt.removeEventListener("test",Ct,t)}catch(n){}return e}();function En(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sn(e,t){if(En.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cn){e:{try{nn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_n[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sn.Z.h.call(this)}}En.prototype.h=function(){this.defaultPrevented=!0},jt(Sn,En);var _n={2:"touch",3:"pen",4:"mouse"};Sn.prototype.h=function(){Sn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xn="closure_listenable_"+(1e6*Math.random()|0),Tn=0;function kn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Tn,this.ca=this.fa=!1}function In(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Nn(e){this.src=e,this.g={},this.h=0}function Cn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=qt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(In(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function An(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Nn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=An(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new kn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Dn="closure_lm_"+(1e6*Math.random()|0),On={};function Pn(e,t,n,r,i){if(r&&r.once)return Ln(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pn(e,t[o],n,r,i);return null}return n=Bn(n),e&&e[xn]?e.N(t,n,Dt(r)?!!r.capture:!!r,i):Rn(e,t,n,!1,r,i)}function Rn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Dt(i)?!!i.capture:!!i,s=Vn(e);if(s||(e[Dn]=s=new Nn(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Un;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ln(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ln(e,t[o],n,r,i);return null}return n=Bn(n),e&&e[xn]?e.O(t,n,Dt(r)?!!r.capture:!!r,i):Rn(e,t,n,!0,r,i)}function Mn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Mn(e,t[o],n,r,i);else r=Dt(r)?!!r.capture:!!r,n=Bn(n),e&&e[xn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=An(o=e.g[t],n,r,i))&&(In(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Vn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=An(t,n,r,i)),(n=-1<e?t[e]:null)&&Fn(n))}function Fn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[xn])Cn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vn(t))?(Cn(n,e),0==n.h&&(n.src=null,t[Dn]=null)):In(e)}}}function jn(e){return e in On?On[e]:On[e]="on"+e}function Un(e,t){if(e.ca)e=!0;else{t=new Sn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Fn(e),e=n.call(r,t)}return e}function Vn(e){return(e=e[Dn])instanceof Nn?e:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(e){return"function"===typeof e?e:(e[qn]||(e[qn]=function(t){return e.handleEvent(t)}),e[qn])}function zn(){Ut.call(this),this.i=new Nn(this),this.P=this,this.I=null}function Kn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new En(t,e);else if(t instanceof En)t.target=t.target||e;else{var i=t;tn(t=new En(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Hn(a,r,!0,t)&&i}if(i=Hn(a=t.g=e,r,!0,t)&&i,i=Hn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Hn(a=t.g=n[o],r,!1,t)&&i}function Hn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Cn(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jt(zn,Ut),zn.prototype[xn]=!0,zn.prototype.removeEventListener=function(e,t,n,r){Mn(this,e,t,n,r)},zn.prototype.M=function(){if(zn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)In(n[r]);delete t.g[e],t.h--}}this.I=null},zn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qn=Nt.JSON.stringify;function Wn(){var e=tr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gn,$n=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Yn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Yn=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Xn}),(function(e){return e.reset()})),Xn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Jn(e){Nt.setTimeout((function(){throw e}),0)}function Zn(e,t){Gn||function(){var e=Nt.Promise.resolve(void 0);Gn=function(){e.then(nr)}}(),er||(Gn(),er=!0),tr.add(e,t)}var er=!1,tr=new $n;function nr(){for(var e;e=Wn();){try{e.h.call(e.g)}catch(n){Jn(n)}var t=Yn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}er=!1}function rr(e,t){zn.call(this),this.h=e||1,this.g=t||Nt,this.j=Mt(this.kb,this),this.l=Date.now()}function ir(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function or(e,t,n){if("function"===typeof e)n&&(e=Mt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Nt.setTimeout(e,t||0)}function ar(e){e.g=or((function(){e.g=null,e.i&&(e.i=!1,ar(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jt(rr,zn),(Tt=rr.prototype).da=!1,Tt.S=null,Tt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kn(this,"tick"),this.da&&(ir(this),this.start()))}},Tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){rr.Z.M.call(this),ir(this),delete this.g};var sr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ar(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ut);function ur(e){Ut.call(this),this.h=e,this.g={}}jt(ur,Ut);var cr=[];function lr(e,t,n,r){Array.isArray(n)||(n&&(cr[0]=n.toString()),n=cr);for(var i=0;i<n.length;i++){var o=Pn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function fr(e){Jt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fn(e)}),e),e.g={}}function hr(){this.g=!0}function dr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Qn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}ur.prototype.M=function(){ur.Z.M.call(this),fr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hr.prototype.Aa=function(){this.g=!1},hr.prototype.info=function(){};var pr={},mr=null;function yr(){return mr=mr||new zn}function vr(e){En.call(this,pr.Ma,e)}function gr(e){var t=yr();Kn(t,new vr(t,e))}function br(e,t){En.call(this,pr.STAT_EVENT,e),this.stat=t}function wr(e){var t=yr();Kn(t,new br(t,e))}function Er(e,t){En.call(this,pr.Na,e),this.size=t}function Sr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Nt.setTimeout((function(){e()}),t)}pr.Ma="serverreachability",jt(vr,En),pr.STAT_EVENT="statevent",jt(br,En),pr.Na="timingevent",jt(Er,En);var _r={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tr(){}function kr(e){return e.h||(e.h=e.i())}function Ir(){}Tr.prototype.h=null;var Nr,Cr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ar(){En.call(this,"d")}function Dr(){En.call(this,"c")}function Or(){}function Pr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ur(this),this.P=Lr,e=un?125:void 0,this.W=new rr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}jt(Ar,En),jt(Dr,En),jt(Or,Tr),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Nr=new Or;var Lr=45e3,Mr={},Fr={};function jr(e,t,n){e.K=1,e.v=si(ti(t)),e.s=n,e.U=!0,Ur(e,null)}function Ur(e,t){e.F=Date.now(),zr(e),e.A=ti(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Rr,e.g=_o(e.l,n?t:null,!e.s),0<e.O&&(e.L=new sr(Mt(e.Ia,e,e.g),e.O)),lr(e.V,e.g,"readystatechange",e.gb),t=e.H?Zt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Vr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function qr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Br(e,n))==Fr){4==t&&(e.o=4,wr(14),i=!1),dr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mr){e.o=4,wr(15),dr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}dr(e.j,e.m,r,null),Gr(e,r)}Vr(e)&&r!=Fr&&r!=Mr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mo(t),t.L=!0,wr(11))):(dr(e.j,e.m,n,"[Invalid Chunked Response]"),Wr(e),Qr(e))}function Br(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fr:(n=Number(t.substring(n,r)),isNaN(n)?Mr:(r+=1)+n>t.length?Fr:(t=t.substr(r,n),e.C=r+n,t))}function zr(e){e.Y=Date.now()+e.P,Kr(e,e.P)}function Kr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sr(Mt(e.eb,e),t)}function Hr(e){e.B&&(Nt.clearTimeout(e.B),e.B=null)}function Qr(e){0==e.l.G||e.I||go(e.l,e)}function Wr(e){Hr(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ir(e.W),fr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Gr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ni(n.i,e)))if(n.I=e.N,!e.J&&Ni(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vo(n),oo(n)}po(n),wr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sr(Mt(n.ab,n),6e3));if(1>=Ii(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else wo(n,11)}else if((e.J||n.g==e)&&vo(n),!Ht(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Gt(l,"spdy")||Gt(l,"quic")||Gt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ci(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ai(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=So(r,r.H?r.la:null,r.W),d.J){Ai(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Hr(p),zr(p)),r.g=d}else ho(r);0<n.l.length&&uo(n)}else"stop"!=o[0]&&"close"!=o[0]||wo(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?wo(n,7):io(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}gr(4)}catch(o){}}function $r(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(At(e)||"string"===typeof e)Bt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(At(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(At(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Yr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Yr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Xr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Jr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Jr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Jr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Tt=Pr.prototype).setTimeout=function(e){this.P=e},Tt.gb=function(e){e=e.target;var t=this.L;t&&3==Zi(e)?t.l():this.Ia(e)},Tt.Ia=function(e){try{if(e==this.g)e:{var t=Zi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||un||this.g&&(this.h.h||this.g.ga()||eo(this.g)))){this.I||4!=t||7==n||gr(8==n||0>=r?3:2),Hr(this);var i=this.g.ba();this.N=i;t:if(Vr(this)){var o=eo(this.g);e="";var a=o.length,s=4==Zi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wr(this),Qr(this);var u="";break t}this.h.i=new Nt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ht(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,wr(12),Wr(this),Qr(this);break e}dr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gr(this,i)}this.U?(qr(this,t,u),un&&this.i&&3==t&&(lr(this.V,this.W,"tick",this.fb),this.W.start())):(dr(this.j,this.m,u,null),Gr(this,u)),4==t&&Wr(this),this.i&&!this.I&&(4==t?go(this.l,this):(this.i=!1,zr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,wr(12)):(this.o=0,wr(13)),Wr(this),Qr(this)}}}catch(t){}},Tt.fb=function(){if(this.g){var e=Zi(this.g),t=this.g.ga();this.C<t.length&&(Hr(this),qr(this,e,t),this.i&&4!=e&&zr(this))}},Tt.cancel=function(){this.I=!0,Wr(this)},Tt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gr(3),wr(17)),Wr(this),this.o=2,Qr(this)):Kr(this,this.Y-e)},(Tt=Yr.prototype).R=function(){Xr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Tt.T=function(){return Xr(this),this.g.concat()},Tt.get=function(e,t){return Jr(this.h,e)?this.h[e]:t},Tt.set=function(e,t){Jr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Tt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Zr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ei(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ei){this.g=void 0!==t?t:e.g,ni(this,e.j),this.s=e.s,ri(this,e.i),ii(this,e.m),this.l=e.l,t=e.h;var n=new yi;n.i=t.i,t.g&&(n.g=new Yr(t.g),n.h=t.h),oi(this,n),this.o=e.o}else e&&(n=String(e).match(Zr))?(this.g=!!t,ni(this,n[1]||"",!0),this.s=ui(n[2]||""),ri(this,n[3]||"",!0),ii(this,n[4]),this.l=ui(n[5]||"",!0),oi(this,n[6]||"",!0),this.o=ui(n[7]||"")):(this.g=!!t,this.h=new yi(null,this.g))}function ti(e){return new ei(e)}function ni(e,t,n){e.j=n?ui(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ri(e,t,n){e.i=n?ui(t,!0):t}function ii(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function oi(e,t,n){t instanceof yi?(e.h=t,function(e,t){t&&!e.j&&(vi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gi(this,t),wi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ci(t,pi)),e.h=new yi(t,e.g))}function ai(e,t,n){e.h.set(t,n)}function si(e){return ai(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ui(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ci(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,li),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function li(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ei.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ci(t,fi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ci(t,fi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ci(n,"/"==n.charAt(0)?di:hi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ci(n,mi)),e.join("")};var fi=/[#\/\?@]/g,hi=/[#\?:]/g,di=/[#\?]/g,pi=/[#\?@]/g,mi=/#/g;function yi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vi(e){e.g||(e.g=new Yr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gi(e,t){vi(e),t=Ei(e,t),Jr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Jr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Xr(e)))}function bi(e,t){return vi(e),t=Ei(e,t),Jr(e.g.h,t)}function wi(e,t,n){gi(e,t),0<n.length&&(e.i=null,e.g.set(Ei(e,t),Kt(n)),e.h+=n.length)}function Ei(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Tt=yi.prototype).add=function(e,t){vi(this),this.i=null,e=Ei(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tt.forEach=function(e,t){vi(this),this.g.forEach((function(n,r){Bt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Tt.T=function(){vi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Tt.R=function(e){vi(this);var t=[];if("string"===typeof e)bi(this,e)&&(t=zt(t,this.g.get(Ei(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zt(t,e[n])}return t},Tt.set=function(e,t){return vi(this),this.i=null,bi(this,e=Ei(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Si=function(e,t){this.h=e,this.g=t};function _i(e){this.l=e||Ti,Nt.PerformanceNavigationTiming?e=0<(e=Nt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xi,Ti=10;function ki(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ii(e){return e.h?1:e.g?e.g.size:0}function Ni(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ci(e,t){e.g?e.g.add(t):e.h=t}function Ai(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Di(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=xt(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Kt(e.i)}function Oi(){}function Pi(){this.g=new Oi}function Ri(e,t,n){var r=n||"";try{$r(e,(function(e,n){var i=e;Dt(e)&&(i=Qn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ym){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ym}}function Li(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Mi(e){this.l=e.$b||null,this.j=e.ib||!1}function Fi(e,t){zn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ji,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i.prototype.cancel=function(){var e,t;if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=xt(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Oi.prototype.stringify=function(e){return Nt.JSON.stringify(e,void 0)},Oi.prototype.parse=function(e){return Nt.JSON.parse(e,void 0)},jt(Mi,Tr),Mi.prototype.g=function(){return new Fi(this.l,this.j)},Mi.prototype.i=(xi={},function(){return xi}),jt(Fi,zn);var ji=0;function Ui(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Vi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qi(e)}function qi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tt=Fi.prototype).open=function(e,t){if(this.readyState!=ji)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qi(this)},Tt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Nt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vi(this)),this.readyState=ji},Tt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Nt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Tt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vi(this):qi(this),3==this.readyState&&Ui(this)}},Tt.Ua=function(e){this.g&&(this.response=this.responseText=e,Vi(this))},Tt.Ta=function(e){this.g&&(this.response=e,Vi(this))},Tt.ha=function(){this.g&&Vi(this)},Tt.setRequestHeader=function(e,t){this.v.append(e,t)},Tt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bi=Nt.JSON.parse;function zi(e){zn.call(this),this.headers=new Yr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ki,this.K=this.L=!1}jt(zi,zn);var Ki="",Hi=/^https?$/i,Qi=["POST","PUT"];function Wi(e){return"content-type"==e.toLowerCase()}function Gi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$i(e),Xi(e)}function $i(e){e.D||(e.D=!0,Kn(e,"complete"),Kn(e,"error"))}function Yi(e){if(e.h&&"undefined"!=typeof It&&(!e.C[1]||4!=Zi(e)||2!=e.ba()))if(e.v&&4==Zi(e))or(e.Fa,0,e);else if(Kn(e,"readystatechange"),4==Zi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Zr)[1]||null;if(!o&&Nt.self&&Nt.self.location){var a=Nt.self.location.protocol;o=a.substr(0,a.length-1)}i=!Hi.test(o?o.toLowerCase():"")}t=i}if(t)Kn(e,"complete"),Kn(e,"success");else{e.m=6;try{var s=2<Zi(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",$i(e)}}finally{Xi(e)}}}function Xi(e,t){if(e.g){Ji(e);var n=e.g,r=e.C[0]?Ct:null;e.g=null,e.C=null,t||Kn(e,"ready");try{n.onreadystatechange=r}catch(Ym){}}}function Ji(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Nt.clearTimeout(e.A),e.A=null)}function Zi(e){return e.g?e.g.readyState:0}function eo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ki:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function to(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Jt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ai(e,t,n))}function no(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ro(e){this.za=0,this.l=[],this.h=new hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=no("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=no("baseRetryDelayMs",5e3,e),this.$a=no("retryDelaySeedMs",1e4,e),this.Ya=no("forwardChannelMaxRetries",2,e),this.ra=no("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _i(e&&e.concurrentRequestLimit),this.Ca=new Pi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function io(e){if(ao(e),3==e.G){var t=e.V++,n=ti(e.F);ai(n,"SID",e.J),ai(n,"RID",t),ai(n,"TYPE","terminate"),lo(e,n),(t=new Pr(e,e.h,t,void 0)).K=2,t.v=si(ti(n)),n=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(n=Nt.navigator.sendBeacon(t.v.toString(),"")),!n&&Nt.Image&&((new Image).src=t.v,n=!0),n||(t.g=_o(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zr(t)}Eo(e)}function oo(e){e.g&&(mo(e),e.g.cancel(),e.g=null)}function ao(e){oo(e),e.u&&(Nt.clearTimeout(e.u),e.u=null),vo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Nt.clearTimeout(e.m),e.m=null)}function so(e,t){e.l.push(new Si(e.Za++,t)),3==e.G&&uo(e)}function uo(e){ki(e.i)||e.m||(e.m=!0,Zn(e.Ha,e),e.C=0)}function co(e,t){var n;n=t?t.m:e.V++;var r=ti(e.F);ai(r,"SID",e.J),ai(r,"RID",n),ai(r,"AID",e.U),lo(e,r),e.o&&e.s&&to(r,e.o,e.s),n=new Pr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=fo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ci(e.i,n),jr(n,r,t)}function lo(e,t){e.j&&$r({},(function(e,n){ai(t,n,e)}))}function fo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Mt(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Ri(l,a,"req"+c+"_")}catch(ia){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ho(e){e.g||e.u||(e.Y=1,Zn(e.Ga,e),e.A=0)}function po(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Sr(Mt(e.Ga,e),bo(e,e.A)),e.A++,!0)}function mo(e){null!=e.B&&(Nt.clearTimeout(e.B),e.B=null)}function yo(e){e.g=new Pr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ti(e.oa);ai(t,"RID","rpc"),ai(t,"SID",e.J),ai(t,"CI",e.N?"0":"1"),ai(t,"AID",e.U),lo(e,t),ai(t,"TYPE","xmlhttp"),e.o&&e.s&&to(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=si(ti(t)),n.s=null,n.U=!0,Ur(n,e)}function vo(e){null!=e.v&&(Nt.clearTimeout(e.v),e.v=null)}function go(e,t){var n=null;if(e.g==t){vo(e),mo(e),e.g=null;var r=2}else{if(!Ni(e.i,t))return;n=t.D,Ai(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Kn(r=yr(),new Er(r,n,t,i)),uo(e)}else ho(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ii(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Sr(Mt(e.Ha,e,t),bo(e,e.C)),e.C++,!0))}(e,t)||2==r&&po(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wo(e,5);break;case 4:wo(e,10);break;case 3:wo(e,6);break;default:wo(e,2)}}function bo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wo(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Mt(e.jb,e);n||(n=new ei("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||ni(n,"https"),si(n)),function(e,t){var n=new hr;if(Nt.Image){var r=new Image;r.onload=Ft(Li,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ft(Li,n,r,"TestLoadImage: error",!1,t),r.onabort=Ft(Li,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ft(Li,n,r,"TestLoadImage: timeout",!1,t),Nt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wr(2);e.G=0,e.j&&e.j.va(t),Eo(e),ao(e)}function Eo(e){e.G=0,e.I=-1,e.j&&(0==Di(e.i).length&&0==e.l.length||(e.i.i.length=0,Kt(e.l),e.l.length=0),e.j.ua())}function So(e,t,n){var r=function(e){return e instanceof ei?ti(e):new ei(e,void 0)}(n);if(""!=r.i)t&&ri(r,t+"."+r.i),ii(r,r.m);else{var i=Nt.location;r=function(e,t,n,r){var i=new ei(null,void 0);return e&&ni(i,e),t&&ri(i,t),n&&ii(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Jt(e.aa,(function(e,t){ai(r,t,e)})),t=e.D,n=e.sa,t&&n&&ai(r,t,n),ai(r,"VER",e.ma),lo(e,r),r}function _o(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zi(new Mi({ib:!0})):new zi(e.qa)).L=e.H,t}function xo(){}function To(){if(an&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function ko(e,t){zn.call(this),this.g=new ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ht(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ht(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Co(this)}function Io(e){Ar.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function No(){Dr.call(this),this.status=1}function Co(e){this.g=e}(Tt=zi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nr.g(),this.C=this.u?kr(this.u):kr(Nr),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Gi(this,o)}e=n||"";var i=new Yr(this.headers);r&&$r(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Nt.FormData&&e instanceof Nt.FormData,!(0<=qt(Qi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ji(this),0<this.B&&((this.K=function(e){return an&&vn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=or(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Gi(this,o)}},Tt.pa=function(){"undefined"!=typeof It&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},Tt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kn(this,"complete"),Kn(this,"abort"),Xi(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xi(this,!0)),zi.Z.M.call(this)},Tt.Fa=function(){this.s||(this.F||this.v||this.l?Yi(this):this.cb())},Tt.cb=function(){Yi(this)},Tt.ba=function(){try{return 2<Zi(this)?this.g.status:-1}catch(xi){return-1}},Tt.ga=function(){try{return this.g?this.g.responseText:""}catch(xi){return""}},Tt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bi(t)}},Tt.Da=function(){return this.m},Tt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Tt=ro.prototype).ma=8,Tt.G=1,Tt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Tt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Pr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?tn(n=Zt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fo(this,t,r),ai(i=ti(this.F),"RID",e),ai(i,"CVER",22),this.D&&ai(i,"X-HTTP-Session-Id",this.D),lo(this,i),this.o&&n&&to(i,this.o,n),Ci(this.i,t),this.Ra&&ai(i,"TYPE","init"),this.ja?(ai(i,"$req",r),ai(i,"SID","null"),t.$=!0,jr(t,i,null)):jr(t,i,r),this.G=2}}else 3==this.G&&(e?co(this,e):0==this.l.length||ki(this.i)||co(this))},Tt.Ga=function(){if(this.u=null,yo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sr(Mt(this.bb,this),e)}},Tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wr(10),oo(this),yo(this))},Tt.ab=function(){null!=this.v&&(this.v=null,oo(this),po(this),wr(19))},Tt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),wr(2)):(this.h.info("Failed to ping google.com"),wr(1))},(Tt=xo.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Oa=function(){},To.prototype.g=function(e,t){return new ko(e,t)},jt(ko,zn),ko.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Zn(Mt(e.hb,e,t))),wr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=So(e,null,e.W),uo(e)},ko.prototype.close=function(){io(this.g)},ko.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,so(this.g,t)}else this.v?((t={}).__data__=Qn(e),so(this.g,t)):so(this.g,e)},ko.prototype.M=function(){this.g.j=null,delete this.j,io(this.g),delete this.g,ko.Z.M.call(this)},jt(Io,Ar),jt(No,Dr),jt(Co,xo),Co.prototype.xa=function(){Kn(this.g,"a")},Co.prototype.wa=function(e){Kn(this.g,new Io(e))},Co.prototype.va=function(e){Kn(this.g,new No(e))},Co.prototype.ua=function(){Kn(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,ko.prototype.send=ko.prototype.u,ko.prototype.open=ko.prototype.m,ko.prototype.close=ko.prototype.close,_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,xr.COMPLETE="complete",Ir.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",zn.prototype.listen=zn.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.La,zi.prototype.getLastErrorCode=zi.prototype.Da,zi.prototype.getStatus=zi.prototype.ba,zi.prototype.getResponseJson=zi.prototype.Qa,zi.prototype.getResponseText=zi.prototype.ga,zi.prototype.send=zi.prototype.ea;var Ao=function(){return new To},Do=function(){return yr()},Oo=_r,Po=xr,Ro=pr,Lo={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mo=Mi,Fo=Ir,jo=zi;var Uo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Uo.o=-1;var Vo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Se(t,e),t}(Error),Bo=new it("@firebase/firestore");function zo(){return Bo.logLevel}function Ko(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=Xe.DEBUG){var r=t.map(Wo);Bo.debug.apply(Bo,Ne(["Firestore (8.10.1): "+e],r))}}function Ho(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=Xe.ERROR){var r=t.map(Wo);Bo.error.apply(Bo,Ne(["Firestore (8.10.1): "+e],r))}}function Qo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Bo.logLevel<=Xe.WARN){var r=t.map(Wo);Bo.warn.apply(Bo,Ne(["Firestore (8.10.1): "+e],r))}}function Wo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Go(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ho(t),new Error(t)}function $o(e,t){e||Go()}function Yo(e,t){return e}function Xo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Jo=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Xo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Zo(e,t){return e<t?-1:e>t?1:0}function ea(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ta(e){return e+"\0"}var na=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qo(Vo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qo(Vo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qo(Vo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qo(Vo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Zo(this.nanoseconds,e.nanoseconds):Zo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ra=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new na(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function ia(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sa=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Go(),void 0===n?n=e.length-t:n>e.length-t&&Go(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new qo(Vo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(sa),ca=/^[_a-zA-Z][_a-zA-Z0-9]*$/,la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ca.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qo(Vo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new qo(Vo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qo(Vo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new qo(Vo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(sa),fa=function(){function e(e){this.fields=e,e.sort(la.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ea(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ha=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Zo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ha.EMPTY_BYTE_STRING=new ha("");var da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(e){if($o(!!e),"string"==typeof e){var t=0,n=da.exec(e);if($o(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ma(e.seconds),nanos:ma(e.nanos)}}function ma(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ya(e){return"string"==typeof e?ha.fromBase64String(e):ha.fromUint8Array(e)}function va(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ga(e){var t=e.mapValue.fields.__previous_value__;return va(t)?ga(t):t}function ba(e){var t=pa(e.mapValue.fields.__local_write_time__.timestampValue);return new na(t.seconds,t.nanos)}function wa(e){return null==e}function Ea(e){return 0===e&&1/e==-1/0}function Sa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ea(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _a=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(ua.fromString(t))},e.fromName=function(t){return new e(ua.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ua.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ua.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ua(t.slice()))},e}();function xa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?va(e)?4:10:Go()}function Ta(e,t){var n=xa(e);if(n!==xa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ba(e).isEqual(ba(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=pa(e.timestampValue),r=pa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ya(e.bytesValue).isEqual(ya(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ma(e.geoPointValue.latitude)===ma(t.geoPointValue.latitude)&&ma(e.geoPointValue.longitude)===ma(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ma(e.integerValue)===ma(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ma(e.doubleValue),r=ma(t.doubleValue);return n===r?Ea(n)===Ea(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ea(e.arrayValue.values||[],t.arrayValue.values||[],Ta);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ia(n)!==ia(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ta(n[i],r[i])))return!1;return!0}(e,t);default:return Go()}}function ka(e,t){return void 0!==(e.values||[]).find((function(e){return Ta(e,t)}))}function Ia(e,t){var n=xa(e),r=xa(t);if(n!==r)return Zo(n,r);switch(n){case 0:return 0;case 1:return Zo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ma(e.integerValue||e.doubleValue),r=ma(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Na(e.timestampValue,t.timestampValue);case 4:return Na(ba(e),ba(t));case 5:return Zo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ya(e),r=ya(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zo(n[i],r[i]);if(0!==o)return o}return Zo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zo(ma(e.latitude),ma(t.latitude));return 0!==n?n:Zo(ma(e.longitude),ma(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ia(n[i],r[i]);if(o)return o}return Zo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Zo(r[a],o[a]);if(0!==s)return s;var u=Ia(n[r[a]],i[o[a]]);if(0!==u)return u}return Zo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Go()}}function Na(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zo(e,t);var n=pa(e),r=pa(t),i=Zo(n.seconds,r.seconds);return 0!==i?i:Zo(n.nanos,r.nanos)}function Ca(e){return Aa(e)}function Aa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=pa(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ya(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_a.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Aa(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Aa(e.fields[o])}return t+"}"}(e.mapValue):Go();var t,n}function Da(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Oa(e){return!!e&&"integerValue"in e}function Pa(e){return!!e&&"arrayValue"in e}function Ra(e){return!!e&&"nullValue"in e}function La(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ma(e){return!!e&&"mapValue"in e}function Fa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return oa(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Fa(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fa(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ja=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ma(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(t)},e.prototype.setAll=function(e){var t=this,n=la.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Fa(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ma(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Ta(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ma(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){oa(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Fa(this.value))},e}();function Ua(e){var t=[];return oa(e.fields,(function(e,n){var r=new la([e]);if(Ma(n)){var i=Ua(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new fa(t)}var Va=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ra.min(),ja.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ja.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ja.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ja.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ja.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),qa=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ba(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new qa(e,t,n,r,i,o,a)}function za(e){var t=Yo(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ca(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ns(t.startAt)),t.endAt&&(n+="|ub:",n+=ns(t.endAt)),t.h=n}return t.h}function Ka(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!is(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ta(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!as(e.startAt,t.startAt)&&as(e.endAt,t.endAt)}function Ha(e){return _a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Qa=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Se(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Wa(e,n,r):"array-contains"===n?new Xa(e,r):"in"===n?new Ja(e,r):"not-in"===n?new Za(e,r):"array-contains-any"===n?new es(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ga(e,n):new $a(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ia(t,this.value)):null!==t&&xa(this.value)===xa(t)&&this.m(Ia(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Go()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Wa=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=_a.fromName(r.referenceValue),i}return Se(t,e),t.prototype.matches=function(e){var t=_a.comparator(e.key,this.key);return this.m(t)},t}(Qa),Ga=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ya("in",n),r}return Se(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Qa),$a=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ya("not-in",n),r}return Se(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Qa);function Ya(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _a.fromName(e.referenceValue)}))}var Xa=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Se(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Pa(t)&&ka(t.arrayValue,this.value)},t}(Qa),Ja=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Se(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ka(this.value.arrayValue,t)},t}(Qa),Za=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Se(t,e),t.prototype.matches=function(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ka(this.value.arrayValue,t)},t}(Qa),es=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Se(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ka(t.value.arrayValue,e)}))},t}(Qa),ts=function(e,t){this.position=e,this.before=t};function ns(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ca(e)})).join(",")}var rs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function is(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function os(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?_a.comparator(_a.fromName(a.referenceValue),n.key):Ia(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function as(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ta(e.position[n],t.position[n]))return!1;return!0}var ss=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function us(e,t,n,r,i,o,a,s){return new ss(e,t,n,r,i,o,a,s)}function cs(e){return new ss(e)}function ls(e){return!wa(e.limit)&&"F"===e.limitType}function fs(e){return!wa(e.limit)&&"L"===e.limitType}function hs(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ds(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ps(e){return null!==e.collectionGroup}function ms(e){var t=Yo(e);if(null===t.p){t.p=[];var n=ds(t),r=hs(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new rs(n)),t.p.push(new rs(la.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new rs(la.keyField(),u))}}}return t.p}function ys(e){var t=Yo(e);if(!t.T)if("F"===t.limitType)t.T=Ba(t.path,t.collectionGroup,ms(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ms(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new rs(o.field,a))}var s=t.endAt?new ts(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ts(t.startAt.position,!t.startAt.before):null;t.T=Ba(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function vs(e,t,n){return new ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gs(e,t){return Ka(ys(e),ys(t))&&e.limitType===t.limitType}function bs(e){return za(ys(e))+"|lt:"+e.limitType}function ws(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ca(t.value);var t})).join(", ")+"]"),wa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ns(e.startAt)),e.endAt&&(t+=", endAt: "+ns(e.endAt)),"Target("+t+")"}(ys(e))+"; limitType="+e.limitType+")"}function Es(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_a.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!os(e.startAt,ms(e),t))&&(!e.endAt||!os(e.endAt,ms(e),t))}(e,t)}function Ss(e){return function(t,n){for(var r=!1,i=0,o=ms(e);i<o.length;i++){var a=o[i],s=_s(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function _s(e,t,n){var r=e.field.isKeyField()?_a.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ia(r,i):Go()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Go()}}function xs(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(t)?"-0":t}}function Ts(e){return{integerValue:""+e}}function ks(e,t){return Sa(t)?Ts(t):xs(e,t)}var Is=function(){this._=void 0};function Ns(e,t,n){return e instanceof Ds?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Os?Ps(e,t):e instanceof Rs?Ls(e,t):function(e,t){var n=As(e,t),r=Fs(n)+Fs(e.A);return Oa(n)&&Oa(e.A)?Ts(r):xs(e.R,r)}(e,t)}function Cs(e,t,n){return e instanceof Os?Ps(e,t):e instanceof Rs?Ls(e,t):n}function As(e,t){return e instanceof Ms?Oa(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t}(Is),Os=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Se(t,e),t}(Is);function Ps(e,t){for(var n=js(t),r=function(e){n.some((function(t){return Ta(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rs=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Se(t,e),t}(Is);function Ls(e,t){for(var n=js(t),r=function(e){n=n.filter((function(t){return!Ta(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ms=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Se(t,e),t}(Is);function Fs(e){return ma(e.integerValue||e.doubleValue)}function js(e){return Pa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Us=function(e,t){this.field=e,this.transform=t},Vs=function(e,t){this.version=e,this.transformResults=t},qs=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Bs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zs=function(){};function Ks(e,t,n){e instanceof $s?function(e,t,n){var r=e.value.clone(),i=Js(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ys?function(e,t,n){if(Bs(e.precondition,t)){var r=Js(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hs(e,t,n){e instanceof $s?function(e,t,n){if(Bs(e.precondition,t)){var r=e.value.clone(),i=Zs(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gs(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ys?function(e,t,n){if(Bs(e.precondition,t)){var r=Zs(e.fieldTransforms,n,t),i=t.data;i.setAll(Xs(e)),i.setAll(r),t.convertToFoundDocument(Gs(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Bs(e.precondition,t)&&t.convertToNoDocument(ra.min())}(e,t)}function Qs(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=As(o.transform,a||null);null!=s&&(null==n&&(n=ja.empty()),n.set(o.field,s))}return n||null}function Ws(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ea(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Os&&t instanceof Os||e instanceof Rs&&t instanceof Rs?ea(e.elements,t.elements,Ta):e instanceof Ms&&t instanceof Ms?Ta(e.A,t.A):e instanceof Ds&&t instanceof Ds}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gs(e){return e.isFoundDocument()?e.version:ra.min()}var $s=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Se(t,e),t}(zs),Ys=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Se(t,e),t}(zs);function Xs(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Js(e,t,n){var r=new Map;$o(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Cs(a,s,n[i]))}return r}function Zs(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ns(s,u,t))}return r}var eu,tu,nu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Se(t,e),t}(zs),ru=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Se(t,e),t}(zs),iu=function(e){this.count=e};function ou(e){switch(e){case Vo.OK:return Go();case Vo.CANCELLED:case Vo.UNKNOWN:case Vo.DEADLINE_EXCEEDED:case Vo.RESOURCE_EXHAUSTED:case Vo.INTERNAL:case Vo.UNAVAILABLE:case Vo.UNAUTHENTICATED:return!1;case Vo.INVALID_ARGUMENT:case Vo.NOT_FOUND:case Vo.ALREADY_EXISTS:case Vo.PERMISSION_DENIED:case Vo.FAILED_PRECONDITION:case Vo.ABORTED:case Vo.OUT_OF_RANGE:case Vo.UNIMPLEMENTED:case Vo.DATA_LOSS:return!0;default:return Go()}}function au(e){if(void 0===e)return Ho("GRPC error has no .code"),Vo.UNKNOWN;switch(e){case eu.OK:return Vo.OK;case eu.CANCELLED:return Vo.CANCELLED;case eu.UNKNOWN:return Vo.UNKNOWN;case eu.DEADLINE_EXCEEDED:return Vo.DEADLINE_EXCEEDED;case eu.RESOURCE_EXHAUSTED:return Vo.RESOURCE_EXHAUSTED;case eu.INTERNAL:return Vo.INTERNAL;case eu.UNAVAILABLE:return Vo.UNAVAILABLE;case eu.UNAUTHENTICATED:return Vo.UNAUTHENTICATED;case eu.INVALID_ARGUMENT:return Vo.INVALID_ARGUMENT;case eu.NOT_FOUND:return Vo.NOT_FOUND;case eu.ALREADY_EXISTS:return Vo.ALREADY_EXISTS;case eu.PERMISSION_DENIED:return Vo.PERMISSION_DENIED;case eu.FAILED_PRECONDITION:return Vo.FAILED_PRECONDITION;case eu.ABORTED:return Vo.ABORTED;case eu.OUT_OF_RANGE:return Vo.OUT_OF_RANGE;case eu.UNIMPLEMENTED:return Vo.UNIMPLEMENTED;case eu.DATA_LOSS:return Vo.DATA_LOSS;default:return Go()}}(tu=eu||(eu={}))[tu.OK=0]="OK",tu[tu.CANCELLED=1]="CANCELLED",tu[tu.UNKNOWN=2]="UNKNOWN",tu[tu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tu[tu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tu[tu.NOT_FOUND=5]="NOT_FOUND",tu[tu.ALREADY_EXISTS=6]="ALREADY_EXISTS",tu[tu.PERMISSION_DENIED=7]="PERMISSION_DENIED",tu[tu.UNAUTHENTICATED=16]="UNAUTHENTICATED",tu[tu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tu[tu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tu[tu.ABORTED=10]="ABORTED",tu[tu.OUT_OF_RANGE=11]="OUT_OF_RANGE",tu[tu.UNIMPLEMENTED=12]="UNIMPLEMENTED",tu[tu.INTERNAL=13]="INTERNAL",tu[tu.UNAVAILABLE=14]="UNAVAILABLE",tu[tu.DATA_LOSS=15]="DATA_LOSS";var su=function(){function e(e,t){this.comparator=e,this.root=t||cu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new uu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new uu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new uu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new uu(this.root,e,this.comparator,!0)},e}(),uu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),cu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Go();if(this.right.isRed())throw Go();var e=this.left.check();if(e!==this.right.check())throw Go();return e+(this.isRed()?0:1)},e}();cu.EMPTY=null,cu.RED=!0,cu.BLACK=!1,cu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Go()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Go()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Go()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Go()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Go()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new cu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var lu=function(){function e(e){this.comparator=e,this.data=new su(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new fu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new fu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),hu=new su(_a.comparator);function du(){return hu}var pu=new su(_a.comparator);function mu(){return pu}var yu=new su(_a.comparator);function vu(){return yu}var gu=new lu(_a.comparator);function bu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=gu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var wu=new lu(Zo);function Eu(){return wu}var Su=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,_u.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ra.min(),r,Eu(),du(),bu())},e}(),_u=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ha.EMPTY_BYTE_STRING,n,bu(),bu(),bu())},e}(),xu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Tu=function(e,t){this.targetId=e,this.V=t},ku=function(e,t,n,r){void 0===n&&(n=ha.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Iu=function(){function e(){this.S=0,this.D=Au(),this.C=ha.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=bu(),t=bu(),n=bu();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Go()}})),new _u(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Au()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Nu=function(){function e(e){this.W=e,this.G=new Map,this.H=du(),this.J=Cu(),this.Y=new lu(Zo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Go()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ha(i))if(0===n){var o=new _a(i.path);this.tt(t,o,Va.newNoDocument(o,ra.min()))}else $o(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ha(o.target)){var a=new _a(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Va.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=bu();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Su(e,n,this.Y,this.H,r);return this.H=du(),this.J=Cu(),this.Y=new lu(Zo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Iu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new lu(Zo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Ko("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Iu),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Cu(){return new su(_a.comparator)}function Au(){return new su(_a.comparator)}var Du={asc:"ASCENDING",desc:"DESCENDING"},Ou={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu=function(e,t){this.databaseId=e,this.I=t};function Ru(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lu(e,t){return e.I?t.toBase64():t.toUint8Array()}function Mu(e,t){return Ru(e,t.toTimestamp())}function Fu(e){return $o(!!e),ra.fromTimestamp(function(e){var t=pa(e);return new na(t.seconds,t.nanos)}(e))}function ju(e,t){return function(e){return new ua(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uu(e){var t=ua.fromString(e);return $o(cc(t)),t}function Vu(e,t){return ju(e.databaseId,t.path)}function qu(e,t){var n=Uu(t);if(n.get(1)!==e.databaseId.projectId)throw new qo(Vo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qo(Vo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _a(Hu(n))}function Bu(e,t){return ju(e.databaseId,t)}function zu(e){var t=Uu(e);return 4===t.length?ua.emptyPath():Hu(t)}function Ku(e){return new ua(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hu(e){return $o(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qu(e,t,n){return{name:Vu(e,t),fields:n.value.mapValue.fields}}function Wu(e,t,n){var r=qu(e,t.name),i=Fu(t.updateTime),o=new ja({mapValue:{fields:t.fields}}),a=Va.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Gu(e,t){var n;if(t instanceof $s)n={update:Qu(e,t.key,t.value)};else if(t instanceof nu)n={delete:Vu(e,t.key)};else if(t instanceof Ys)n={update:Qu(e,t.key,t.data),updateMask:uc(t.fieldMask)};else{if(!(t instanceof ru))return Go();n={verify:Vu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ds)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Os)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Rs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ms)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Go()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Mu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Go()}(e,t.precondition)),n}function $u(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?qs.updateTime(Fu(e.updateTime)):void 0!==e.exists?qs.exists(e.exists):qs.none()}(t.currentDocument):qs.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)$o("REQUEST_TIME"===t.setToServerValue),n=new Ds;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Os(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Rs(i)}else"increment"in t?n=new Ms(e,t.increment):Go();var o=la.fromServerFormat(t.fieldPath);return new Us(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=qu(e,t.update.name),o=new ja({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new fa(t.map((function(e){return la.fromServerFormat(e)})))}(t.updateMask);return new Ys(i,o,a,n,r)}return new $s(i,o,n,r)}if(t.delete){var s=qu(e,t.delete);return new nu(s,n)}if(t.verify){var u=qu(e,t.verify);return new ru(u,n)}return Go()}function Yu(e,t){return{documents:[Bu(e,t.path)]}}function Xu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(La(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NAN"}};if(Ra(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(La(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NOT_NAN"}};if(Ra(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(e.field),op:rc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ic(e.field),direction:nc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||wa(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ec(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ec(t.endAt)),n}function Ju(e){var t=zu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$o(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Zu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new rs(oc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return wa(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=tc(n.startAt));var l=null;return n.endAt&&(l=tc(n.endAt)),us(t,i,s,a,u,"F",c,l)}function Zu(e){return e?void 0!==e.unaryFilter?[sc(e)]:void 0!==e.fieldFilter?[ac(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Zu(e)})).reduce((function(e,t){return e.concat(t)})):Go():[]}function ec(e){return{before:e.before,values:e.position}}function tc(e){var t=!!e.before,n=e.values||[];return new ts(n,t)}function nc(e){return Du[e]}function rc(e){return Ou[e]}function ic(e){return{fieldPath:e.canonicalString()}}function oc(e){return la.fromServerFormat(e.fieldPath)}function ac(e){return Qa.create(oc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Go()}}(e.fieldFilter.op),e.fieldFilter.value)}function sc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oc(e.unaryFilter.field);return Qa.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=oc(e.unaryFilter.field);return Qa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oc(e.unaryFilter.field);return Qa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=oc(e.unaryFilter.field);return Qa.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Go()}}function uc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function lc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hc(t)),t=fc(e.get(n),t);return hc(t)}function fc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function hc(e){return e+"\x01\x01"}function dc(e){var t=e.length;if($o(t>=2),2===t)return $o("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ua.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Go(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Go()}o=a+2}return new ua(r)}var pc=function(e,t){this.seconds=e,this.nanoseconds=t},mc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};mc.store="owner",mc.key="owner";var yc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};yc.store="mutationQueues",yc.keyPath="userId";var vc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vc.store="mutations",vc.keyPath="batchId",vc.userMutationsIndex="userMutationsIndex",vc.userMutationsKeyPath=["userId","batchId"];var gc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,lc(t)]},e.key=function(e,t,n){return[e,lc(t),n]},e}();gc.store="documentMutations",gc.PLACEHOLDER=new gc;var bc=function(e,t){this.path=e,this.readTime=t},wc=function(e,t){this.path=e,this.version=t},Ec=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ec.store="remoteDocuments",Ec.readTimeIndex="readTimeIndex",Ec.readTimeIndexPath="readTime",Ec.collectionReadTimeIndex="collectionReadTimeIndex",Ec.collectionReadTimeIndexPath=["parentPath","readTime"];var Sc=function(e){this.byteSize=e};Sc.store="remoteDocumentGlobal",Sc.key="remoteDocumentGlobalKey";var _c=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};_c.store="targets",_c.keyPath="targetId",_c.queryTargetsIndexName="queryTargetsIndex",_c.queryTargetsKeyPath=["canonicalId","targetId"];var xc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};xc.store="targetDocuments",xc.keyPath=["targetId","path"],xc.documentTargetsIndex="documentTargetsIndex",xc.documentTargetsKeyPath=["path","targetId"];var Tc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Tc.key="targetGlobalKey",Tc.store="targetGlobal";var kc=function(e,t){this.collectionId=e,this.parent=t};kc.store="collectionParents",kc.keyPath=["collectionId","parent"];var Ic=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ic.store="clientMetadata",Ic.keyPath="clientId";var Nc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Nc.store="bundles",Nc.keyPath="bundleId";var Cc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Cc.store="namedQueries",Cc.keyPath="name";var Ac=Ne(Ne([],Ne(Ne([],Ne(Ne([],Ne(Ne([],[yc.store,vc.store,gc.store,Ec.store,_c.store,mc.store,Tc.store,xc.store]),[Ic.store])),[Sc.store])),[kc.store])),[Nc.store,Cc.store]),Dc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Pc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Rc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Go(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Lc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Pc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new jc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=zc(t.target.error);n.ft.reject(new jc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new jc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ko("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Vc(t)},e}(),Mc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Le())&&Ho("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ko("SimpleDb","Removing database:",e),qc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Le(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/chef_samurai",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return xe(this,void 0,void 0,(function(){var t,n=this;return Te(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ko("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new jc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new qo(Vo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new jc(e,n))},i.onupgradeneeded=function(e){Ko("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Ko("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o,a,s,u;return Te(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return Te(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Lc.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Rc.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Ko("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Fc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return qc(this.Pt.delete())},e}(),jc=function(e){function t(t,n){var r=this;return(r=e.call(this,Vo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Se(t,e),t}(qo);function Uc(e){return"IndexedDbTransactionError"===e.name}var Vc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ko("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ko("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qc(n)},e.prototype.add=function(e){return Ko("SimpleDb","ADD",this.store.name,e,e),qc(this.store.add(e))},e.prototype.get=function(e){var t=this;return qc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ko("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Ko("SimpleDb","DELETE",this.store.name,e),qc(this.store.delete(e))},e.prototype.count=function(){return Ko("SimpleDb","COUNT",this.store.name),qc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Ko("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Rc((function(n,r){t.onerror=function(e){var t=zc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Rc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Fc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Rc){var s=a.catch((function(e){return o.done(),Rc.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Rc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function qc(e){return new Rc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=zc(e.target.error);n(t)}}))}var Bc=!1;function zc(e){var t=Mc._t(Le());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new qo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bc||(Bc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Se(t,e),t}(Oc);function Hc(e,t){var n=Yo(e);return Mc.It(n.Mt,t)}var Qc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ks(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Hs(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Hs(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ra.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(function(e,t){return Ws(e,t)}))&&ea(this.baseMutations,e.baseMutations,(function(e,t){return Ws(e,t)}))},e}(),Wc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){$o(t.mutations.length===r.length);for(var i=vu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Gc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ra.min()),void 0===o&&(o=ra.min()),void 0===a&&(a=ha.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),$c=function(e){this.Lt=e};function Yc(e,t){if(t.document)return Wu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_a.fromSegments(t.noDocument.path),r=tl(t.noDocument.readTime),i=Va.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=_a.fromSegments(t.unknownDocument.path);return r=tl(t.unknownDocument.version),Va.newUnknownDocument(o,r)}return Go()}function Xc(e,t,n){var r=Jc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Vu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ru(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ec(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=el(t.version);return a=t.hasCommittedMutations,new Ec(null,new bc(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=el(t.version);return new Ec(new wc(c,l),null,null,!0,r,i)}return Go()}function Jc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Zc(e){var t=new na(e[0],e[1]);return ra.fromTimestamp(t)}function el(e){var t=e.toTimestamp();return new pc(t.seconds,t.nanoseconds)}function tl(e){var t=new na(e.seconds,e.nanoseconds);return ra.fromTimestamp(t)}function nl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return $u(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return $u(e.Lt,t)})),s=na.fromMillis(t.localWriteTimeMs);return new Qc(t.batchId,s,n,a)}function rl(e){var t,n,r=tl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?tl(e.lastLimboFreeSnapshotVersion):ra.min();return void 0!==e.query.documents?($o(1===(n=e.query).documents.length),t=ys(cs(zu(n.documents[0])))):t=function(e){return ys(Ju(e))}(e.query),new Gc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ha.fromBase64String(e.resumeToken))}function il(e,t){var n,r=el(t.snapshotVersion),i=el(t.lastLimboFreeSnapshotVersion);n=Ha(t.target)?Yu(e.Lt,t.target):Xu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new _c(t.targetId,za(t.target),r,o,t.sequenceNumber,i,n)}function ol(e){var t=Ju({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vs(t,t.limit,"L"):t}var al=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return sl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:tl(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return sl(e).put({bundleId:(n=t).id,createTime:el(Fu(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return ul(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ol(t.bundledQuery),readTime:tl(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return ul(e).put(function(e){return{name:e.name,readTime:el(Fu(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function sl(e){return Hc(e,Nc.store)}function ul(e){return Hc(e,Cc.store)}var cl=function(){function e(){this.Bt=new ll}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Rc.resolve()},e.prototype.getCollectionParents=function(e,t){return Rc.resolve(this.Bt.getEntries(t))},e}(),ll=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lu(ua.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new lu(ua.comparator)).toArray()},e}(),fl=function(){function e(){this.qt=new ll}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:lc(i)};return hl(e).put(o)}return Rc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ta(t),""],!1,!0);return hl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(dc(o.parent))}return n}))},e}();function hl(e){return Hc(e,kc.store)}var dl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pl=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function ml(e,t,n){var r=e.store(vc.store),i=e.store(gc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){$o(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=gc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Rc.waitFor(o).next((function(){return c}))}function yl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Go();t=e.noDocument}return JSON.stringify(t).length}pl.DEFAULT_COLLECTION_PERCENTILE=10,pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pl.DEFAULT=new pl(41943040,pl.DEFAULT_COLLECTION_PERCENTILE,pl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pl.DISABLED=new pl(-1,0,0);var vl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return $o(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).$t({index:vc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=wl(e),a=bl(e);return a.add({}).next((function(s){$o("number"==typeof s);for(var u=new Qc(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Gu(e.Lt,t)})),i=n.mutations.map((function(t){return Gu(e.Lt,t)}));return new vc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new lu((function(e,t){return Zo(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],m=gc.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,gc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Rc.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return bl(e).get(t).next((function(e){return e?($o(e.userId===n.userId),nl(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Rc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bl(e).$t({index:vc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&($o(t.batchId>=r),o=nl(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bl(e).$t({index:vc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).Nt(vc.userMutationsIndex,n).next((function(e){return e.map((function(e){return nl(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=gc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return wl(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=dc(u);if(s===n.userId&&t.path.isEqual(l))return bl(e).get(c).next((function(e){if(!e)throw Go();$o(e.userId===n.userId),o.push(nl(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new lu(Zo),i=[];return t.forEach((function(t){var o=gc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=wl(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=dc(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Rc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=gc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new lu(Zo);return wl(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=dc(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(bl(e).get(t).next((function(e){if(null===e)throw Go();$o(e.userId===n.userId),r.push(nl(n.R,e))})))})),Rc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return ml(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Rc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Rc.resolve();var r=IDBKeyRange.lowerBound(gc.prefixForUser(t.userId)),i=[];return wl(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=dc(e[1]);i.push(o)}else r.done()})).next((function(){$o(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return gl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return El(e).get(this.userId).next((function(e){return e||new yc(t.userId,-1,"")}))},e}();function gl(e,t,n){var r=gc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wl(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function bl(e){return Hc(e,vc.store)}function wl(e){return Hc(e,gc.store)}function El(e){return Hc(e,yc.store)}var Sl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),_l=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Sl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ra.fromTimestamp(new na(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return $o(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return xl(e).$t((function(a,s){var u=rl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Rc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return xl(e).$t((function(e,n){var r=rl(n);t(r)}))},e.prototype.Xt=function(e){return Tl(e).get(Tc.key).next((function(e){return $o(null!==e),e}))},e.prototype.Zt=function(e,t){return Tl(e).put(Tc.key,t)},e.prototype.te=function(e,t){return xl(e).put(il(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=za(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xl(e).$t({range:r,index:_c.queryTargetsIndexName},(function(e,n,r){var o=rl(n);Ka(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=kl(e);return t.forEach((function(t){var a=lc(t.path);i.push(o.put(new xc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Rc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=kl(e);return Rc.forEach(t,(function(t){var o=lc(t.path);return Rc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=kl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kl(e),i=bu();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=dc(e[1]),o=new _a(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=lc(t.path),r=IDBKeyRange.bound([n],[ta(n)],!1,!0),i=0;return kl(e).$t({index:xc.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return xl(e).get(t).next((function(e){return e?rl(e):null}))},e}();function xl(e){return Hc(e,_c.store)}function Tl(e){return Hc(e,Tc.store)}function kl(e){return Hc(e,xc.store)}function Il(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){if(e.code!==Vo.FAILED_PRECONDITION||e.message!==Dc)throw e;return Ko("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Nl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Zo(n,i);return 0===a?Zo(r,o):a}var Cl=function(){function e(e){this.ne=e,this.buffer=new lu(Nl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Al=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ko("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return xe(t,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Uc(t=n.sent())?(Ko("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Il(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Dl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Rc.resolve(Uo.o);var r=new Cl(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ko("LruGarbageCollector","Garbage collection skipped; disabled"),Rc.resolve(dl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ko("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),dl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ko("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),zo()<=Xe.DEBUG&&Ko("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Rc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ol=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Dl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Pl(e,n)},e.prototype.removeReference=function(e,t,n){return Pl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Pl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return El(e).Ot((function(r){return gl(e,r,t).next((function(e){return e&&(n=!0),Rc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),kl(e).delete([0,lc(a.path)])}))}));i.push(u)}})).next((function(){return Rc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Pl(e,t)},e.prototype.we=function(e,t){var n,r=kl(e),i=Uo.o;return r.$t({index:xc.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Uo.o&&t(new _a(dc(n)),i),i=s,n=a):i=Uo.o})).next((function(){i!==Uo.o&&t(new _a(dc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Pl(e,t){return kl(e).put(function(e,t){return new xc(0,lc(e.path),t)}(t,e.currentSequenceNumber))}var Rl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){oa(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return aa(this.inner)},e}(),Ll=function(){function e(){this.changes=new Rl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ra.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Va.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Ml=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ul(e).put(Vl(t),n)},e.prototype.removeEntry=function(e,t){var n=Ul(e),r=Vl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ul(e).get(Vl(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Ul(e).get(Vl(t)).next((function(e){return{document:n.ye(t,e),size:yl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=du();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=du(),i=new su(_a.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,yl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Rc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ul(e).$t({range:r},(function(e,t,r){for(var a=_a.fromSegments(e);o&&_a.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=du(),o=t.path.length+1,a={};if(n.isEqual(ra.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Jc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ec.collectionReadTimeIndex}return Ul(e).$t(a,(function(e,n,a){if(e.length===o){var s=Yc(r.R,n);t.path.isPrefixOf(s.key.path)?Es(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Fl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return jl(e).get(Sc.key).next((function(e){return $o(!!e),e}))},e.prototype.me=function(e,t){return jl(e).put(Sc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Yc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ra.min()))return n}return Va.newInvalidDocument(e)},e}(),Fl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Rl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Se(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new lu((function(e,t){return Zo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Xc(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=yl(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Xc(t.Ie.R,Va.newNoDocument(o,ra.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Rc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Ll);function jl(e){return Hc(e,Sc.store)}function Ul(e){return Hc(e,Ec.store)}function Vl(e){return e.path.toArray()}var ql=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;$o(n<r&&n>=0&&r<=11);var o=new Lc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(mc.store)}(e),function(e){e.createObjectStore(yc.store,{keyPath:yc.keyPath}),e.createObjectStore(vc.store,{keyPath:vc.keyPath,autoIncrement:!0}).createIndex(vc.userMutationsIndex,vc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gc.store)}(e),Bl(e),function(e){e.createObjectStore(Ec.store)}(e));var a=Rc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(xc.store),e.deleteObjectStore(_c.store),e.deleteObjectStore(Tc.store)}(e),Bl(e)),a=a.next((function(){return function(e){var t=e.store(Tc.store),n=new Tc(0,0,ra.min().toTimestamp(),0);return t.put(Tc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(vc.store).Nt().next((function(n){e.deleteObjectStore(vc.store),e.createObjectStore(vc.store,{keyPath:vc.keyPath,autoIncrement:!0}).createIndex(vc.userMutationsIndex,vc.userMutationsKeyPath,{unique:!0});var r=t.store(vc.store),i=n.map((function(e){return r.put(e)}));return Rc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Sc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ec.store);t.createIndex(Ec.readTimeIndex,Ec.readTimeIndexPath,{unique:!1}),t.createIndex(Ec.collectionReadTimeIndex,Ec.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Nc.store,{keyPath:Nc.keyPath})}(e),function(e){e.createObjectStore(Cc.store,{keyPath:Cc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ec.store).$t((function(e,n){t+=yl(n)})).next((function(){var n=new Sc(t);return e.store(Sc.store).put(Sc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(yc.store),r=e.store(vc.store);return n.Nt().next((function(n){return Rc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(vc.userMutationsIndex,i).next((function(r){return Rc.forEach(r,(function(r){$o(r.userId===n.userId);var i=nl(t.R,r);return ml(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(xc.store),n=e.store(Ec.store);return e.store(Tc.store).get(Tc.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new ua(n),a=function(e){return[0,lc(e)]}(o);r.push(t.get(a).next((function(n){return n?Rc.resolve():function(n){return t.put(new xc(0,lc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Rc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(kc.store,{keyPath:kc.keyPath});var n=t.store(kc.store),r=new ll,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lc(i)})}};return t.store(Ec.store).$t({Ft:!0},(function(e,t){var n=new ua(e);return i(n.popLast())})).next((function(){return t.store(gc.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=dc(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(_c.store);return n.$t((function(e,r){var i=rl(r),o=il(t.R,i);return n.put(o)}))},e}();function Bl(e){e.createObjectStore(xc.store,{keyPath:xc.keyPath}).createIndex(xc.documentTargetsIndex,xc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(_c.store,{keyPath:_c.keyPath}).createIndex(_c.queryTargetsIndexName,_c.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Tc.store)}var zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kl=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new qo(Vo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ol(this,i),this.Le=n+"main",this.R=new $c(u),this.Be=new Mc(this.Le,11,new ql(this.R)),this.qe=new _l(this.referenceDelegate,this.R),this.Ut=new fl,this.Ue=function(e,t){return new Ml(e,t)}(this.R,this.Ut),this.Ke=new al,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ho("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new qo(Vo.FAILED_PRECONDITION,zl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Uo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return xe(t,void 0,void 0,(function(){return Te(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return xe(t,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return xe(t,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ql(t).put(new Ic(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Uc(t))return Ko("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ko("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Hl(e).get(mc.key).next((function(e){return Rc.resolve(t.tn(e))}))},e.prototype.en=function(e){return Ql(e).delete(this.clientId)},e.prototype.nn=function(){return xe(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Te(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Hc(e,Ic.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Rc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Rc.resolve(!0):Hl(e).get(mc.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new qo(Vo.FAILED_PRECONDITION,zl);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ql(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ko("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return xe(this,void 0,void 0,(function(){var e=this;return Te(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[mc.store,Ic.store],(function(t){var n=new Kc(t,Uo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ql(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return vl.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ko("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Ac,(function(o){return i=new Kc(o,r.Ne?r.Ne.next():Uo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ho("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new qo(Vo.FAILED_PRECONDITION,Dc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Hl(e).get(mc.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new qo(Vo.FAILED_PRECONDITION,zl)}))},e.prototype.Ze=function(e){var t=new mc(this.clientId,this.allowTabSynchronization,Date.now());return Hl(e).put(mc.key,t)},e.yt=function(){return Mc.yt()},e.prototype.Xe=function(e){var t=this,n=Hl(e);return n.get(mc.key).next((function(e){return t.tn(e)?(Ko("IndexedDbPersistence","Releasing primary lease."),n.delete(mc.key)):Rc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ho("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ko("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ho("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ho("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Hl(e){return Hc(e,mc.store)}function Ql(e){return Hc(e,Ic.store)}function Wl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gl=function(e,t){this.progress=e,this.wn=t},$l=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return _a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):ps(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new _a(t)).next((function(e){var t=mu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=mu();return this.Ut.getCollectionParents(e,i).next((function(a){return Rc.forEach(a,(function(a){var s=function(e,t){return new ss(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Va.newInvalidDocument(c),r=r.insert(c,l)),Hs(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Es(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=bu(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ys&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Yl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=bu(),i=bu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Xl=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ra.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(ls(t)||fs(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(zo()<=Xe.DEBUG&&Ko("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ws(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new lu(Ss(e));return t.forEach((function(t,r){Es(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return zo()<=Xe.DEBUG&&Ko("QueryEngine","Using full collection scan to execute query:",ws(t)),this.Sn.getDocumentsMatchingQuery(e,t,ra.min())},e}(),Jl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new su(Zo),this.Fn=new Rl((function(e){return za(e)}),Ka),this.$n=ra.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new $l(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Zl(e,t,n,r){return new Jl(e,t,n,r)}function ef(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o;return Te(this,(function(a){switch(a.label){case 0:return n=Yo(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new $l(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=bu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var y=0,v=m.mutations;y<v.length;y++){var g=v[y];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function tf(e,t){var n=Yo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Rc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);$o(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function nf(e){var t=Yo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function rf(e,t){var n=Yo(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return $o(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=du();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(of(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(ra.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Rc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function of(e,t,n,r,i){var o=bu();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=du();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ra.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ko("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function af(e,t){var n=Yo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function sf(e,t){var n=Yo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Rc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Gc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function uf(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a;return Te(this,(function(s){switch(s.label){case 0:r=Yo(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Uc(a=s.sent()))throw a;return Ko("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function cf(e,t,n){var r=Yo(e),i=ra.min(),o=bu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Yo(e),i=r.Fn.get(n);return void 0!==i?Rc.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ys(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ra.min(),n?o:bu())})).next((function(e){return{documents:e,Bn:o}}))}))}function lf(e,t){var n=Yo(e),r=Yo(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function ff(e){var t=Yo(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Yo(e),i=du(),o=Jc(n),a=Ul(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Ec.readTimeIndex,range:s},(function(e,t){var n=Yc(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Zc(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function hf(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){return[2,(t=Yo(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ul(e),n=ra.min();return t.$t({index:Ec.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Zc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function df(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return Te(this,(function(p){switch(p.label){case 0:for(i=Yo(e),o=bu(),a=du(),s=vu(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,sf(i,function(e){return ys(cs(ua.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return of(e,h,a,ra.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function pf(e,t,n){return void 0===n&&(n=bu()),xe(this,void 0,void 0,(function(){var r,i;return Te(this,(function(o){switch(o.label){case 0:return[4,sf(e,ys(ol(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Yo(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Fu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(ha.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var mf=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Rc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fu(n.createTime)}),Rc.resolve()},e.prototype.getNamedQuery=function(e,t){return Rc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:ol(e.bundledQuery),readTime:Fu(e.readTime)}}(t)),Rc.resolve()},e}(),yf=function(){function e(){this.Wn=new lu(vf.Gn),this.zn=new lu(vf.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new vf(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new vf(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new _a(new ua([])),r=new vf(n,e),i=new vf(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new _a(new ua([])),n=new vf(t,e),r=new vf(t,e+1),i=bu();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new vf(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),vf=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return _a.comparator(e.key,t.key)||Zo(e.ns,t.ns)},e.Hn=function(e,t){return Zo(e.ns,t.ns)||_a.comparator(e.key,t.key)},e}(),gf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new lu(vf.Gn)}return e.prototype.checkEmpty=function(e){return Rc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Qc(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new vf(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Rc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Rc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Rc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Rc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Rc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new vf(t,0),i=new vf(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Rc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new lu(Zo);return t.forEach((function(e){var t=new vf(e,0),i=new vf(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Rc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;_a.isDocumentKey(i)||(i=i.child(""));var o=new vf(new _a(i),0),a=new lu(Zo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Rc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;$o(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Rc.forEach(t.mutations,(function(i){var o=new vf(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new vf(t,0),r=this.rs.firstAfterOrEqual(n);return Rc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Rc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),bf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new su(_a.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Rc.resolve(n?n.document.clone():Va.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=du();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Va.newInvalidDocument(e))})),Rc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=du(),i=new _a(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Es(t,c)&&(r=r.insert(c.key,c.clone()))}return Rc.resolve(r)},e.prototype.fs=function(e,t){return Rc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new wf(this)},e.prototype.getSize=function(e){return Rc.resolve(this.size)},e}(),wf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Se(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Rc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Ll),Ef=function(){function e(e){this.persistence=e,this.ds=new Rl((function(e){return za(e)}),Ka),this.lastRemoteSnapshotVersion=ra.min(),this.highestTargetId=0,this.ws=0,this._s=new yf,this.targetCount=0,this.ys=Sl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Rc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Rc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Rc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Rc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Rc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Rc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Rc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Rc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Rc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Rc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Rc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Rc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Rc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Rc.resolve(n)},e.prototype.containsKey=function(e,t){return Rc.resolve(this._s.containsKey(t))},e}(),Sf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Uo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Ef(this),this.Ut=new cl,this.Ue=function(e){return new bf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new $c(t),this.Ke=new mf(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new gf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ko("MemoryPersistence","Starting transaction:",e);var i=new _f(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Rc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),_f=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Se(t,e),t}(Oc),xf=function(){function e(e){this.persistence=e,this.As=new yf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Go()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Rc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Rc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Rc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rc.forEach(this.vs,(function(r){var i=_a.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Rc.or([function(){return Rc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Tf=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function kf(e,t){return"firestore_clients_"+e+"_"+t}function If(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Nf(e,t){return"firestore_targets_"+e+"_"+t}Tf.UNAUTHENTICATED=new Tf(null),Tf.GOOGLE_CREDENTIALS=new Tf("google-credentials-uid"),Tf.FIRST_PARTY=new Tf("first-party-uid"),Tf.MOCK_USER=new Tf("mock-user");var Cf=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ho("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Af=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ho("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Df=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Eu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Sa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ho("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Of=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ho("SharedClientState","Failed to parse online state: "+t),null)},e}(),Pf=function(){function e(){this.activeTargetIds=Eu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Rf=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new su(Zo),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kf(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Pf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return xe(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return Te(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(kf(this.persistenceKey,r)))&&(o=Df.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nf(this.persistenceKey,e));if(n){var r=Af.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Nf(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ko("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ko("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ko("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ko("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ho("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return xe(t,void 0,void 0,(function(){var e,t,r,i,o,a;return Te(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Uo.o;if(null!=e)try{var n=JSON.parse(e);$o("number"==typeof n),t=n}catch(e){Ho("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Uo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Cf(this.currentUser,e,t,n),i=If(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=If(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Nf(this.persistenceKey,e),i=new Af(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Df.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Cf.Vs(new Tf(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Af.Vs(r,t)},e.prototype.js=function(e){return Of.Vs(e)},e.prototype.ii=function(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ko("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Eu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Lf=function(){function e(){this.li=new Pf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Pf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Mf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Ff=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ko("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Ko("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),jf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Vf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Se(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new jo;a.listenOnce(Po.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Oo.NO_ERROR:var t=a.getResponseJson();Ko("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Oo.TIMEOUT:Ko("Connection",'RPC "'+e+'" timed out'),o(new qo(Vo.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:var n=a.getStatus();if(Ko("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vo).indexOf(t)>=0?t:Vo.UNKNOWN}(r.status);o(new qo(s,r.message))}else o(new qo(Vo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new qo(Vo.UNAVAILABLE,"Connection failed."));break;default:Go()}}finally{Ko("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ao(),i=Do(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Mo({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())||"object"===typeof navigator&&"ReactNative"===navigator.product||Le().indexOf("Electron/")>=0||function(){var e=Le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Le().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ko("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Uf({Ei:function(e){c?Ko("Connection","Not sending because WebChannel is closed:",e):(u||(Ko("Connection","Opening WebChannel transport."),s.open(),u=!0),Ko("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Fo.EventType.OPEN,(function(){c||Ko("Connection","WebChannel transport opened.")})),f(s,Fo.EventType.CLOSE,(function(){c||(c=!0,Ko("Connection","WebChannel transport closed"),l.Vi())})),f(s,Fo.EventType.ERROR,(function(e){c||(c=!0,Qo("Connection","WebChannel transport errored:",e),l.Vi(new qo(Vo.UNAVAILABLE,"The operation could not be completed")))})),f(s,Fo.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];$o(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ko("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=eu[e];if(void 0!==t)return au(t)}(o),u=i.message;void 0===a&&(a=Vo.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new qo(a,u)),s.close()}else Ko("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Ro.STAT_EVENT,(function(e){e.stat===Lo.PROXY?Ko("Connection","Detected buffering proxy"):e.stat===Lo.NOPROXY&&Ko("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Ko("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Ko("RestConnection","Received: ",e),e}),(function(t){throw Qo("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=jf[e];return this.Di+"/v1/"+t+":"+n},e}());function qf(){return"undefined"!=typeof window?window:null}function Bf(){return"undefined"!=typeof document?document:null}function zf(e){return new Pu(e,!0)}var Kf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ko("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Hf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return xe(this,void 0,void 0,(function(){return Te(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Vo.RESOURCE_EXHAUSTED?(Ho(t.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Vo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new qo(Vo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return xe(e,void 0,void 0,(function(){return Te(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Ko("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Ko("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Qf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Se(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Go()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?($o(void 0===t||"string"==typeof t),ha.fromBase64String(t||"")):($o(void 0===t||t instanceof Uint8Array),ha.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Vo.UNKNOWN:au(e.code);return new qo(t,e.message||"")}(s);n=new ku(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=qu(e,r.document.name),o=Fu(r.document.updateTime);var s=new ja({mapValue:{fields:r.document.fields}}),u=(a=Va.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new xu(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=qu(e,r.document),o=r.readTime?Fu(r.readTime):ra.min(),s=Va.newNoDocument(i,o),a=r.removedTargetIds||[],n=new xu([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=qu(e,r.document),o=r.removedTargetIds||[],n=new xu([],o,i,null);else{if(!("filter"in t))return Go();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new iu(r),o=l.targetId,n=new Tu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ra.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ra.min():t.readTime?Fu(t.readTime):ra.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Ku(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ha(r)?{documents:Yu(e,r)}:{query:Xu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Lu(e,t.resumeToken):t.snapshotVersion.compareTo(ra.min())>0&&(n.readTime=Ru(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Go()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Ku(this.R),t.removeTarget=e,this.cr(t)},t}(Hf),Wf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Se(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if($o(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?($o(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fu(e.updateTime):Fu(t);return n.isEqual(ra.min())&&(n=Fu(t)),new Vs(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fu(e.commitTime);return this.listener.Tr(n,t)}return $o(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Ku(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gu(t.R,e)}))};this.cr(n)},t}(Hf),Gf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Se(t,e),t.prototype.br=function(){if(this.Rr)throw new qo(Vo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new qo(Vo.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new qo(Vo.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),$f=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ho(t),this.Vr=!1):Ko("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Yf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return xe(o,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return oh(this)?(Ko("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return(t=Yo(e)).Or.add(4),[4,Jf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Xf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new $f(n,r)};function Xf(e){return xe(this,void 0,void 0,(function(){var t,n;return Te(this,(function(r){switch(r.label){case 0:if(!oh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Jf(e){return xe(this,void 0,void 0,(function(){var t,n;return Te(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Zf(e,t){var n=Yo(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ih(n)?rh(n):wh(n).er()&&th(n,t))}function eh(e,t){var n=Yo(e),r=wh(n);n.$r.delete(t),r.er()&&nh(n,t),0===n.$r.size&&(r.er()?r.ir():oh(n)&&n.Br.set("Unknown"))}function th(e,t){e.qr.U(t.targetId),wh(e).mr(t)}function nh(e,t){e.qr.U(t),wh(e).yr(t)}function rh(e){e.qr=new Nu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),wh(e).start(),e.Br.Sr()}function ih(e){return oh(e)&&!wh(e).tr()&&e.$r.size>0}function oh(e){return 0===Yo(e).Or.size}function ah(e){e.qr=void 0}function sh(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){return e.$r.forEach((function(t,n){th(e,t)})),[2]}))}))}function uh(e,t){return xe(this,void 0,void 0,(function(){return Te(this,(function(n){return ah(e),ih(e)?(e.Br.Nr(t),rh(e)):e.Br.set("Unknown"),[2]}))}))}function ch(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o;return Te(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ku&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o;return Te(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ko("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,lh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof xu?e.qr.X(t):t instanceof Tu?e.qr.rt(t):e.qr.et(t),n.isEqual(ra.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,nf(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(ha.EMPTY_BYTE_STRING,n.snapshotVersion)),nh(e,t);var r=new Gc(n.target,t,1,n.sequenceNumber);th(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ko("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,lh(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function lh(e,t,n){return xe(this,void 0,void 0,(function(){var r=this;return Te(this,(function(i){switch(i.label){case 0:if(!Uc(t))throw t;return e.Or.add(1),[4,Jf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return nf(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return xe(r,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return Ko("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Xf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function fh(e,t){return t().catch((function(n){return lh(e,n,t)}))}function hh(e){return xe(this,void 0,void 0,(function(){var t,n,r,i,o;return Te(this,(function(a){switch(a.label){case 0:t=Yo(e),n=Eh(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return oh(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,af(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=Eh(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,lh(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return dh(t)&&ph(t),[2]}}))}))}function dh(e){return oh(e)&&!Eh(e).tr()&&e.Fr.length>0}function ph(e){Eh(e).start()}function mh(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){return Eh(e).Ar(),[2]}))}))}function yh(e){return xe(this,void 0,void 0,(function(){var t,n,r,i;return Te(this,(function(o){for(t=Eh(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function vh(e,t,n){return xe(this,void 0,void 0,(function(){var r,i;return Te(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Wc.from(r,t,n),[4,fh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,hh(e)];case 2:return o.sent(),[2]}}))}))}function gh(e,t){return xe(this,void 0,void 0,(function(){return Te(this,(function(n){switch(n.label){case 0:return t&&Eh(e).pr?[4,function(e,t){return xe(this,void 0,void 0,(function(){var n,r;return Te(this,(function(i){switch(i.label){case 0:return ou(r=t.code)&&r!==Vo.ABORTED?(n=e.Fr.shift(),Eh(e).sr(),[4,fh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,hh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dh(e)&&ph(e),[2]}}))}))}function bh(e,t){return xe(this,void 0,void 0,(function(){var n;return Te(this,(function(r){switch(r.label){case 0:return n=Yo(e),t?(n.Or.delete(2),[4,Xf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Jf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function wh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Yo(e);return r.br(),new Qf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sh.bind(null,e),Ri:uh.bind(null,e),_r:ch.bind(null,e)}),e.Mr.push((function(n){return xe(t,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),ih(e)?rh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),ah(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Eh(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Yo(e);return r.br(),new Wf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:mh.bind(null,e),Ri:gh.bind(null,e),Ir:yh.bind(null,e),Tr:vh.bind(null,e)}),e.Mr.push((function(n){return xe(t,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,hh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Ko("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Sh=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qo(Vo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function _h(e,t){if(Ho("AsyncQueue",t+": "+e),Uc(e))return new qo(Vo.UNAVAILABLE,t+": "+e);throw e}var xh=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||_a.comparator(t.key,n.key)}:function(e,t){return _a.comparator(e.key,t.key)},this.keyedMap=mu(),this.sortedSet=new su(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Th=function(){function e(){this.Qr=new su(_a.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Go():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),kh=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Ih=function(){this.Wr=void 0,this.listeners=[]},Nh=function(){this.queries=new Rl((function(e){return bs(e)}),gs),this.onlineState="Unknown",this.Gr=new Set};function Ch(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Te(this,(function(c){switch(c.label){case 0:if(n=Yo(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ih),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=_h(s,"Initialization of query '"+ws(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ph(n),[2]}}))}))}function Ah(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a;return Te(this,(function(s){return n=Yo(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Dh(e,t){for(var n=Yo(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ph(n)}function Oh(e,t,n){var r=Yo(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ph(e){e.Gr.forEach((function(e){e.next()}))}var Rh=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new kh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Lh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Mh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return qu(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Wu(this.R,e.document,!1):Va.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Fu(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Fh(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Mh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||bu()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return xe(this,void 0,void 0,(function(){var e,t,n,r,i;return Te(this,(function(o){switch(o.label){case 0:return[4,df(this.localStore,new Mh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,pf(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gl(Object.assign({},this.progress),e))]}}))}))}}();function Fh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var jh=function(e){this.key=e},Uh=function(e){this.key=e},Vh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=bu(),this.mutatedKeys=bu(),this.lo=Ss(e),this.fo=new xh(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Th,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=ls(this.query)&&i.size===this.query.limit?i.last():null,c=fs(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Es(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ls(this.query)||fs(this.query))for(;a.size>this.query.limit;){var l=ls(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Go()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new kh(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Th,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=bu(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Uh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new jh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=bu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return kh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),qh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Bh=function(e){this.key=e,this.bo=!1},zh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Rl((function(e){return bs(e)}),gs),this.Vo=new Map,this.So=new Set,this.Do=new su(_a.comparator),this.Co=new Map,this.No=new yf,this.xo={},this.ko=new Map,this.Fo=Sl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Kh(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Te(this,(function(u){switch(u.label){case 0:return n=bd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,sf(n.localStore,ys(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Hh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Zf(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Hh(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Te(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o,a;return Te(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,cf(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(id(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,cf(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Vh(t,i.Bn),a=o._o(i.documents),s=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),id(e,n,u.To),c=new qh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Qh(e,t){return xe(this,void 0,void 0,(function(){var n,r,i;return Te(this,(function(o){switch(o.label){case 0:return n=Yo(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!gs(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,uf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),eh(n.remoteStore,r.targetId),nd(n,r.targetId)})).catch(Il)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return nd(n,r.targetId),[4,uf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Wh(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a;return Te(this,(function(s){switch(s.label){case 0:r=wd(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Yo(e),i=na.now(),o=t.reduce((function(e,t){return e.add(t.key)}),bu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Qs(c,n.get(c.key));null!=l&&a.push(new Ys(c.key,l,Ua(l.value.mapValue),qs.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new su(Zo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,sd(r,i.changes)];case 3:return s.sent(),[4,hh(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=_h(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Gh(e,t){return xe(this,void 0,void 0,(function(){var n,r;return Te(this,(function(i){switch(i.label){case 0:n=Yo(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,rf(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&($o(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?$o(r.bo):e.removedDocuments.size>0&&($o(r.bo),r.bo=!1))})),[4,sd(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Il(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function $h(e,t,n){var r=Yo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Yo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Ph(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Yh(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Te(this,(function(c){switch(c.label){case 0:return(r=Yo(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new su(_a.comparator)).insert(o,Va.newNoDocument(o,ra.min())),s=bu().add(o),u=new Su(ra.min(),new Map,new lu(Zo),a,s),[4,Gh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),ad(r),[3,4];case 2:return[4,uf(r.localStore,t,!1).then((function(){return nd(r,t,n)})).catch(Il)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Xh(e,t){return xe(this,void 0,void 0,(function(){var n,r,i;return Te(this,(function(o){switch(o.label){case 0:n=Yo(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,tf(n.localStore,t)];case 2:return i=o.sent(),td(n,r,null),ed(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,sd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Il(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Jh(e,t,n){return xe(this,void 0,void 0,(function(){var r,i;return Te(this,(function(o){switch(o.label){case 0:r=Yo(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Yo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return $o(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),td(r,t,n),ed(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,sd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Il(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Zh(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a;return Te(this,(function(s){switch(s.label){case 0:oh((n=Yo(e)).remoteStore)||Ko("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Yo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=_h(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function ed(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function td(e,t,n){var r=Yo(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function nd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||rd(e,t)}))}function rd(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(eh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),ad(e))}function id(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jh?(e.No.addReference(o.key,t),od(e,o)):o instanceof Uh?(Ko("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||rd(e,o.key)):Go()}}function od(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Ko("SyncEngine","New document in limbo: "+n),e.So.add(r),ad(e))}function ad(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _a(ua.fromString(t)),r=e.Fo.next();e.Co.set(r,new Bh(n)),e.Do=e.Do.insert(n,r),Zf(e.remoteStore,new Gc(ys(cs(n.path)),r,2,Uo.o))}}function sd(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a;return Te(this,(function(s){switch(s.label){case 0:return r=Yo(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Yl.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Te(this,(function(f){switch(f.label){case 0:n=Yo(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rc.forEach(t,(function(t){return Rc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Rc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Uc(r=f.sent()))throw r;return Ko("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ud(e,t){return xe(this,void 0,void 0,(function(){var n,r;return Te(this,(function(i){switch(i.label){case 0:return(n=Yo(e)).currentUser.isEqual(t)?[3,3]:(Ko("SyncEngine","User change. New user:",t.toKey()),[4,ef(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new qo(Vo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,sd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function cd(e,t){var n=Yo(e),r=n.Co.get(t);if(r&&r.bo)return bu().add(r.key);var i=bu(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function ld(e,t){return xe(this,void 0,void 0,(function(){var n,r,i;return Te(this,(function(o){switch(o.label){case 0:return[4,cf((n=Yo(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&id(n,t.targetId,i.To),i)]}}))}))}function fd(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){return[2,ff((t=Yo(e)).localStore).then((function(e){return sd(t,e)}))]}))}))}function hd(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o;return Te(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Yo(e),r=Yo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Rc.resolve(null)}))}))}((i=Yo(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,hh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(td(i,t,r||null),ed(i,t),function(e,t){Yo(Yo(e)._n).Gt(t)}(i.localStore,t)):Go(),a.label=4;case 4:return[4,sd(i,o)];case 5:return a.sent(),[3,7];case 6:Ko("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function dd(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Te(this,(function(l){switch(l.label){case 0:return bd(n=Yo(e)),wd(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,pd(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,bh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Zf(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return nd(n,t),uf(n.localStore,t,!0)})),eh(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,pd(n,u)];case 5:return l.sent(),function(e){var t=Yo(e);t.Co.forEach((function(e,n){eh(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new su(_a.comparator)}(n),n.$o=!1,[4,bh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function pd(e,t,n){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,m;return Te(this,(function(y){switch(y.label){case 0:n=Yo(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,sf(n.localStore,ys(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,ld(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,lf(n.localStore,s)];case 8:return m=y.sent(),[4,sf(n.localStore,m)];case 9:return u=y.sent(),[4,Hh(n,md(m),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function md(e){return us(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yd(e){var t=Yo(e);return Yo(Yo(t.localStore).persistence).fn()}function vd(e,t,n,r){return xe(this,void 0,void 0,(function(){var i,o,a;return Te(this,(function(s){switch(s.label){case 0:return(i=Yo(e)).$o?(Ko("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ff(i.localStore)];case 3:return o=s.sent(),a=Su.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,sd(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,uf(i.localStore,t,!0)];case 6:return s.sent(),nd(i,t,r),[3,8];case 7:Go(),s.label=8;case 8:return[2]}}))}))}function gd(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return Te(this,(function(d){switch(d.label){case 0:if(!(r=bd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ko("SyncEngine","Adding an already active target "+a),[3,5]):[4,lf(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,sf(r.localStore,s)];case 3:return u=d.sent(),[4,Hh(r,md(s),u.targetId,!1)];case 4:d.sent(),Zf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return Te(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,uf(r.localStore,e,!1).then((function(){eh(r.remoteStore,e),nd(r,e)})).catch(Il)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function bd(e){var t=Yo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yh.bind(null,t),t.vo._r=Dh.bind(null,t.eventManager),t.vo.Mo=Oh.bind(null,t.eventManager),t}function wd(e){var t=Yo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jh.bind(null,t),t}var Ed=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return this.R=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Zl(this.persistence,new Xl,e.initialUser,this.R)},e.prototype.qo=function(e){return new Sf(xf.bs,this.R)},e.prototype.Bo=function(e){return new Lf},e.prototype.terminate=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Sd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Se(t,e),t.prototype.initialize=function(t){return xe(this,void 0,void 0,(function(){var n=this;return Te(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,hf(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,wd(this.Qo.syncEngine)];case 4:return r.sent(),[4,hh(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Zl(this.persistence,new Xl,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Al(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?pl.withCacheSize(this.cacheSizeBytes):pl.DEFAULT;return new Kl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qf(),Bf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Lf},t}(Ed),_d=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Se(t,e),t.prototype.initialize=function(t){return xe(this,void 0,void 0,(function(){var n,r=this;return Te(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Rf?(this.sharedClientState.syncEngine={ui:hd.bind(null,n),ai:vd.bind(null,n),hi:gd.bind(null,n),fn:yd.bind(null,n),ci:fd.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return xe(r,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return[4,dd(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=qf();if(!Rf.yt(t))throw new qo(Vo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rf(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Sd),xd=function(){function e(){}return e.prototype.initialize=function(e,t){return xe(this,void 0,void 0,(function(){var n=this;return Te(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $h(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ud.bind(null,this.syncEngine),[4,bh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Nh},e.prototype.createDatastore=function(e){var t,n=zf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Vf(t));return function(e,t,n){return new Gf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $h(a.syncEngine,e,0)},o=Ff.yt()?new Ff:new Mf,new Yf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new zh(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return t=Yo(e),Ko("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Jf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Td=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),kd=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Pc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return xe(this,void 0,void 0,(function(){var e,t,n,r;return Te(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Lh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return xe(this,void 0,void 0,(function(){var e,t;return Te(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return xe(this,void 0,void 0,(function(){var e,t;return Te(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return xe(this,void 0,void 0,(function(){var t,n=this;return Te(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qo(Vo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return xe(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Te(this,(function(u){switch(u.label){case 0:return n=Yo(e),r=Ku(n.R)+"/documents",i={documents:t.map((function(e){return Vu(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){$o(!!t.found),t.found.name,t.found.updateTime;var n=qu(e,t.found.name),r=Fu(t.found.updateTime),i=new ja({mapValue:{fields:t.found.fields}});return Va.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){$o(!!t.missing),$o(!!t.readTime);var n=qu(e,t.missing),r=Fu(t.readTime);return Va.newNoDocument(n,r)}(e,t):Go()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());$o(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return xe(this,void 0,void 0,(function(){var e,t=this;return Te(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=_a.fromPath(n);t.mutations.push(new ru(r,t.precondition(r)))})),[4,function(e,t){return xe(this,void 0,void 0,(function(){var n,r,i;return Te(this,(function(o){switch(o.label){case 0:return n=Yo(e),r=Ku(n.R)+"/documents",i={writes:t.map((function(e){return Gu(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Go();t=ra.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qo(Vo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qs.updateTime(t):qs.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ra.min()))throw new qo(Vo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qs.updateTime(t)}return qs.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Id=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Kf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return xe(e,void 0,void 0,(function(){var e,t,n=this;return Te(this,(function(r){return e=new kd(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!wa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ou(t)}return!1},e}(),Nd=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Tf.UNAUTHENTICATED,this.clientId=Jo.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return xe(r,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return Ko("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return xe(this,void 0,void 0,(function(){return Te(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new qo(Vo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return xe(e,void 0,void 0,(function(){var e,n;return Te(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=_h(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Cd(e,t){return xe(this,void 0,void 0,(function(){var n,r,i=this;return Te(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ko("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return xe(i,void 0,void 0,(function(){return Te(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,ef(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Ad(e,t){return xe(this,void 0,void 0,(function(){var n,r;return Te(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Dd(e)];case 1:return n=i.sent(),Ko("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return xe(this,void 0,void 0,(function(){var n,r;return Te(this,(function(i){switch(i.label){case 0:return(n=Yo(e)).asyncQueue.verifyOperationInProgress(),Ko("RemoteStore","RemoteStore received new credentials"),r=oh(n),n.Or.add(3),[4,Jf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Xf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Dd(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ko("FirestoreClient","Using default OfflineComponentProvider"),[4,Cd(e,new Ed)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Od(e){return xe(this,void 0,void 0,(function(){return Te(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ko("FirestoreClient","Using default OnlineComponentProvider"),[4,Ad(e,new xd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Pd(e){return Dd(e).then((function(e){return e.persistence}))}function Rd(e){return Dd(e).then((function(e){return e.localStore}))}function Ld(e){return Od(e).then((function(e){return e.remoteStore}))}function Md(e){return Od(e).then((function(e){return e.syncEngine}))}function Fd(e){return xe(this,void 0,void 0,(function(){var t,n;return Te(this,(function(r){switch(r.label){case 0:return[4,Od(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Kh.bind(null,t.syncEngine),n.onUnlisten=Qh.bind(null,t.syncEngine),n)]}}))}))}function jd(e,t,n){var r=this;void 0===n&&(n={});var i=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(r,void 0,void 0,(function(){var r;return Te(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Td({next:function(o){t.enqueueAndForget((function(){return Ah(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new qo(Vo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new qo(Vo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Rh(cs(n.path),o,{includeMetadataChanges:!0,so:!0});return Ch(e,a)},[4,Fd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Ud(e,t,n){var r=this;void 0===n&&(n={});var i=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(r,void 0,void 0,(function(){var r;return Te(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Td({next:function(n){t.enqueueAndForget((function(){return Ah(e,a)})),n.fromCache&&"server"===r.source?i.reject(new qo(Vo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Rh(n,o,{includeMetadataChanges:!0,so:!0});return Ch(e,a)},[4,Fd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Vd=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},qd=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Bd=new Map,zd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Kd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Tf.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Hd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Qd=function(){function e(e){var t=this;this.currentUser=Tf.UNAUTHENTICATED,this.oc=new Pc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Ko("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Ko("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Ko("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?($o("string"==typeof n.accessToken),new zd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return xe(n,void 0,void 0,(function(){return Te(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return $o(null===e||"string"==typeof e),new Tf(e)},e}(),Wd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Tf.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Gd=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Wd(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Tf.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function $d(e,t,n){if(!n)throw new qo(Vo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Yd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qo(Vo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Xd(e,t,n,r){if(!0===t&&!0===r)throw new qo(Vo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Jd(e){if(!_a.isDocumentKey(e))throw new qo(Vo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Zd(e){if(_a.isDocumentKey(e))throw new qo(Vo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ep(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Go()}function tp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qo(Vo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ep(e);throw new qo(Vo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function np(e,t){if(t<=0)throw new qo(Vo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var rp=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qo(Vo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qo(Vo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),ip=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rp({}),this._settingsFrozen=!1,e instanceof qd?(this._databaseId=e,this._credentials=new Kd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qo(Vo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qd(e.options.projectId)}(e),this._credentials=new Qd(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new qo(Vo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new qo(Vo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rp(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Kd;switch(e.type){case"gapi":var t=e.client;return $o(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new qo(Vo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Bd.get(this))&&(Ko("ComponentProvider","Removing Datastore"),Bd.delete(this),e.terminate()),Promise.resolve();var e},e}(),op=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ap=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),sp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,cs(r))||this)._path=r,i.type="collection",i}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new op(this.firestore,null,new _a(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(ap);function up(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ke(e),$d("collection","path",t),e instanceof ip)return Zd(n=ua.fromString.apply(ua,Ne([t],r))),new sp(e,null,n);if(!(e instanceof op||e instanceof sp))throw new qo(Vo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Zd(n=ua.fromString.apply(ua,Ne([e.path],r)).child(ua.fromString(t))),new sp(e.firestore,null,n)}function cp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ke(e),1===arguments.length&&(t=Jo.u()),$d("doc","path",t),e instanceof ip)return Jd(n=ua.fromString.apply(ua,Ne([t],r))),new op(e,null,new _a(n));if(!(e instanceof op||e instanceof sp))throw new qo(Vo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jd(n=e._path.child(ua.fromString.apply(ua,Ne([t],r)))),new op(e.firestore,e instanceof sp?e.converter:null,new _a(n))}function lp(e,t){return e=Ke(e),t=Ke(t),(e instanceof op||e instanceof sp)&&(t instanceof op||t instanceof sp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fp(e,t){return e=Ke(e),t=Ke(t),e instanceof ap&&t instanceof ap&&e.firestore===t.firestore&&gs(e._query,t._query)&&e.converter===t.converter}var hp=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Kf(this,"async_queue_retry"),this.Ic=function(){var t=Bf();t&&Ko("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Bf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Bf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Pc;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return xe(this,void 0,void 0,(function(){var e,t=this;return Te(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Uc(e=n.sent()))throw e;return Ko("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Ho("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Sh.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Go()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return xe(this,void 0,void 0,(function(){var e;return Te(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function dp(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var pp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new hp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Se(t,e),t.prototype._terminate=function(){return this._firestoreClient||yp(this),this._firestoreClient.terminate()},t}(ip);function mp(e){return e._firestoreClient||yp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Vd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Nd(e._credentials,e._queue,r)}function vp(e,t,n){var r=this,i=new Pc;return e.asyncQueue.enqueue((function(){return xe(r,void 0,void 0,(function(){var r;return Te(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Cd(e,n)];case 1:return o.sent(),[4,Ad(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Vo.FAILED_PRECONDITION||e.code===Vo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function gp(e){if(e._initialized||e._terminated)throw new qo(Vo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new qo(Vo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new la(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),wp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ha.fromBase64String(t))}catch(t){throw new qo(Vo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ha.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Ep=function(e){this._methodName=e},Sp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new qo(Vo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qo(Vo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Zo(this._lat,e._lat)||Zo(this._long,e._long)},e}(),_p=/^__.*__$/,xp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new $s(e,this.data,t,this.fieldTransforms)},e}(),Tp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function kp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Go()}}var Ip=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Wp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(kp(this.Nc)&&_p.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Np=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||zf(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Ip({Nc:e,methodName:t,qc:n,path:la.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Cp(e){var t=e._freezeSettings(),n=zf(e._databaseId);return new Np(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ap(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);zp("Data must be an object, but it was:",a,r);var s,u,c=qp(r,a);if(o.merge)s=new fa(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Kp(t,h[f],n);if(!a.contains(d))throw new qo(Vo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Gp(l,d)||l.push(d)}s=new fa(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new xp(new ja(c),s,u)}var Dp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Ep);function Op(e,t,n){return new Ip({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(e){return new Us(e.path,new Ds)},t.prototype.isEqual=function(e){return e instanceof t},t}(Ep),Rp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Se(t,e),t.prototype._toFieldTransform=function(e){var t=Op(this,e,!0),n=this.Kc.map((function(e){return Vp(e,t)})),r=new Os(n);return new Us(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ep),Lp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Se(t,e),t.prototype._toFieldTransform=function(e){var t=Op(this,e,!0),n=this.Kc.map((function(e){return Vp(e,t)})),r=new Rs(n);return new Us(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ep),Mp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Se(t,e),t.prototype._toFieldTransform=function(e){var t=new Ms(e.R,ks(e.R,this.Qc));return new Us(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Ep);function Fp(e,t,n,r){var i=e.Uc(1,t,n);zp("Data must be an object, but it was:",i,r);var o=[],a=ja.empty();oa(r,(function(e,r){var s=Qp(t,e,n);r=Ke(r);var u=i.Oc(s);if(r instanceof Dp)o.push(s);else{var c=Vp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new fa(o);return new Tp(a,s,i.fieldTransforms)}function jp(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Kp(t,r,n)],u=[i];if(o.length%2!=0)throw new qo(Vo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Kp(t,o[c])),u.push(o[c+1]);for(var l=[],f=ja.empty(),h=s.length-1;h>=0;--h)if(!Gp(l,s[h])){var d=s[h],p=u[h];p=Ke(p);var m=a.Oc(d);if(p instanceof Dp)l.push(d);else{var y=Vp(p,m);null!=y&&(l.push(d),f.set(d,y))}}var v=new fa(l);return new Tp(f,v,a.fieldTransforms)}function Up(e,t,n,r){return void 0===r&&(r=!1),Vp(n,e.Uc(r?4:3,t))}function Vp(e,t){if(Bp(e=Ke(e)))return zp("Unsupported field value:",t,e),qp(e,t);if(e instanceof Ep)return function(e,t){if(!kp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Vp(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ke(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ks(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=na.fromDate(e);return{timestampValue:Ru(t.R,n)}}if(e instanceof na)return n=new na(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ru(t.R,n)};if(e instanceof Sp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wp)return{bytesValue:Lu(t.R,e._byteString)};if(e instanceof op){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ju(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+ep(e))}(e,t)}function qp(e,t){var n={};return aa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(e,(function(e,r){var i=Vp(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Bp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof na||e instanceof Sp||e instanceof wp||e instanceof op||e instanceof Ep)}function zp(e,t,n){if(!Bp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ep(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Kp(e,t,n){if((t=Ke(t))instanceof bp)return t._internalPath;if("string"==typeof t)return Qp(e,t);throw Wp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Hp=new RegExp("[~\\*/\\[\\]]");function Qp(e,t,n){if(t.search(Hp)>=0)throw Wp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(bp.bind.apply(bp,Ne([void 0],t.split(".")))))._internalPath}catch(Ym){throw Wp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Wp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new qo(Vo.INVALID_ARGUMENT,(s+=". ")+e+u)}function Gp(e,t){return e.some((function(e){return e.isEqual(t)}))}var $p=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new op(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Yp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}($p);function Xp(e,t){return"string"==typeof t?Qp(e,t):t instanceof bp?t._internalPath:t._delegate._internalPath}var Jp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Zp=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Se(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}($p),em=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Zp),tm=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new em(n._firestore,n._userDataWriter,r.key,r,new Jp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qo(Vo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new em(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new em(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:nm(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function nm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Go()}}function rm(e,t){return e instanceof Zp&&t instanceof Zp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tm&&t instanceof tm&&e._firestore===t._firestore&&fp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function im(e){if(fs(e)&&0===e.explicitOrderBy.length)throw new qo(Vo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var om=function(){};function am(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var sm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Se(t,e),t.prototype._apply=function(e){var t=Cp(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qo(Vo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){pm(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(dm(r,e,f))}s={arrayValue:{values:u}}}else s=dm(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||pm(a,o),s=Up(n,"where",a,"in"===o||"not-in"===o);var h=Qa.create(i,o,s);return function(e,t){if(t.g()){var n=ds(e);if(null!==n&&!n.isEqual(t.field))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=hs(e);null!==r&&mm(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new qo(Vo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new qo(Vo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ap(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(om),um=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Se(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rs(t,n);return function(e,t){if(null===hs(e)){var n=ds(e);null!==n&&mm(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new ap(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ss(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(om),cm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Se(t,e),t.prototype._apply=function(e){return new ap(e.firestore,e.converter,vs(e._query,this.Hc,this.Jc))},t}(om),lm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Se(t,e),t.prototype._apply=function(e){var t=hm(e,this.type,this.Yc,this.Xc);return new ap(e.firestore,e.converter,function(e,t){return new ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(om),fm=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Se(t,e),t.prototype._apply=function(e){var t=hm(e,this.type,this.Yc,this.Xc);return new ap(e.firestore,e.converter,function(e,t){return new ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(om);function hm(e,t,n,r){if(n[0]=Ke(n[0]),n[0]instanceof $p)return function(e,t,n,r,i){if(!r)throw new qo(Vo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ms(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Da(t,r.key));else{var c=r.data.field(u.field);if(va(c))throw new qo(Vo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ts(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Cp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new qo(Vo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ps(e)&&-1!==c.indexOf("/"))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(ua.fromString(c));if(!_a.isDocumentKey(l))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new _a(l);s.push(Da(t,f))}else{var h=Up(n,r,c);s.push(h)}}return new ts(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function dm(e,t,n){if("string"==typeof(n=Ke(n))){if(""===n)throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ps(t)&&-1!==n.indexOf("/"))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ua.fromString(n));if(!_a.isDocumentKey(r))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Da(e,new _a(r))}if(n instanceof op)return Da(e,n._key);throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ep(n)+".")}function pm(e,t){if(!Array.isArray(e)||0===e.length)throw new qo(Vo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new qo(Vo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function mm(e,t,n){if(!n.isEqual(t))throw new qo(Vo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ym=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ma(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Go()}},e.prototype.convertObject=function(e,t){var n=this,r={};return oa(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Sp(ma(e.latitude),ma(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ga(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=pa(e);return new na(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=ua.fromString(e);$o(cc(n));var r=new qd(n.get(1),n.get(3)),i=new _a(n.popFirst(5));return r.isEqual(t)||Ho("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function vm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Se(t,e),t.prototype.convertBytes=function(e){return new wp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new op(this.firestore,null,t)},t}(ym),bm=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=wm(e,this._firestore),i=vm(r.converter,t,n),o=Ap(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,qs.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=wm(e,this._firestore);return o="string"==typeof(t=Ke(t))||t instanceof bp?jp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Fp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,qs.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=wm(e,this._firestore);return this._mutations=this._mutations.concat(new nu(t._key,qs.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new qo(Vo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function wm(e,t){if((e=Ke(e)).firestore!==t)throw new qo(Vo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Em=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Se(t,e),t.prototype.convertBytes=function(e){return new wp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new op(this.firestore,null,t)},t}(ym);function Sm(e,t,n){e=tp(e,op);var r=tp(e.firestore,pp),i=vm(e.converter,t,n);return Tm(r,[Ap(Cp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qs.none())])}function _m(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=tp(e,op);var o=tp(e.firestore,pp),a=Cp(o);return Tm(o,[("string"==typeof(t=Ke(t))||t instanceof bp?jp(a,"updateDoc",e._key,t,n,r):Fp(a,"updateDoc",e._key,t)).toMutation(e._key,qs.exists(!0))])}function xm(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ke(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||dp(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(dp(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof op)c=tp(e.firestore,pp),l=cs(e._key.path),u={next:function(t){i[s]&&i[s](km(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=tp(e,ap);c=tp(d.firestore,pp),l=d._query;var p=new Em(c);u={next:function(e){i[s]&&i[s](new tm(c,p,d,e))},error:i[s+1],complete:i[s+2]},im(e._query)}return function(e,t,n,r){var i=this,o=new Td(r),a=new Rh(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return xe(i,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return t=Ch,[4,Fd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return xe(i,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return t=Ah,[4,Fd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(mp(c),l,f,u)}function Tm(e,t){return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var n;return Te(this,(function(i){switch(i.label){case 0:return n=Wh,[4,Md(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(mp(e),t)}function km(e,t,n){var r=n.docs.get(t._key),i=new Em(e);return new Zp(e,i,t._key,r,new Jp(n.hasPendingWrites,n.fromCache),t.converter)}var Im=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Se(t,e),t.prototype.get=function(t){var n=this,r=wm(t,this._firestore),i=new Em(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Zp(n._firestore,i,r._key,e._document,new Jp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cp(e)}return e.prototype.get=function(e){var t=this,n=wm(e,this._firestore),r=new gm(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Go();var i=e[0];if(i.isFoundDocument())return new $p(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $p(t._firestore,r,n._key,null,n.converter);throw Go()}))},e.prototype.set=function(e,t,n){var r=wm(e,this._firestore),i=vm(r.converter,t,n),o=Ap(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=wm(e,this._firestore);return o="string"==typeof(t=Ke(t))||t instanceof bp?jp(this._dataReader,"Transaction.update",a._key,t,n,r):Fp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=wm(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Nm(){if("undefined"==typeof Uint8Array)throw new qo(Vo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cm(){if("undefined"==typeof atob)throw new qo(Vo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Am=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Cm(),new e(wp.fromBase64String(t))},e.fromUint8Array=function(t){return Nm(),new e(wp.fromUint8Array(t))},e.prototype.toBase64=function(){return Cm(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Nm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Dm=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){gp(e=tp(e,pp));var n=mp(e),r=e._freezeSettings(),i=new xd;return vp(n,i,new Sd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){gp(e=tp(e,pp));var t=mp(e),n=e._freezeSettings(),r=new xd;return vp(t,r,new _d(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new qo(Vo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return xe(t,void 0,void 0,(function(){var t;return Te(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return Mc.yt()?(t=e+"main",[4,Mc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Wl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Om=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof qd||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=tp(e,ip))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Qo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=Tf.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=_e({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new qo(Vo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Tf(u)}e._credentials=new Hd(new zd(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return xe(t,void 0,void 0,(function(){var t,n;return Te(this,(function(r){switch(r.label){case 0:return[4,Pd(e)];case 1:return t=r.sent(),[4,Ld(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Yo(e);return t.Or.delete(0),Xf(t)}(n))]}}))}))}))}(mp(tp(this._delegate,pp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return xe(t,void 0,void 0,(function(){var t,n;return Te(this,(function(r){switch(r.label){case 0:return[4,Pd(e)];case 1:return t=r.sent(),[4,Ld(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return xe(this,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return(t=Yo(e)).Or.add(0),[4,Jf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(mp(tp(this._delegate,pp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Xd("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(t,void 0,void 0,(function(){var t;return Te(this,(function(r){switch(r.label){case 0:return t=Zh,[4,Md(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(mp(tp(this._delegate,pp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Td(t);return e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return t=function(e,t){Yo(e).Gr.add(t),t.next()},[4,Fd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var t;return Te(this,(function(n){switch(n.label){case 0:return t=function(e,t){Yo(e).Gr.delete(t)},[4,Fd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(mp(e=tp(e,pp)),dp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new qo(Vo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Qm(this,up(this._delegate,e))}catch(e){throw jm(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Fm(this,cp(this._delegate,e))}catch(e){throw jm(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new zm(this,function(e,t){if(e=tp(e,ip),$d("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qo(Vo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ap(e,null,function(e){return new ss(ua.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw jm(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var n;return Te(this,(function(i){switch(i.label){case 0:return[4,function(e){return Od(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Id(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(mp(e),(function(n){return t(new Im(e,n))}))}(this._delegate,(function(n){return e(new Rm(t,n))}))},e.prototype.batch=function(){var e=this;return mp(this._delegate),new Lm(new bm(this._delegate,(function(t){return Tm(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new qo(Vo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new qo(Vo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Pm=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Se(t,e),t.prototype.convertBytes=function(e){return new Am(new wp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Fm.eu(t,this.firestore,null)},t}(ym);var Rm=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Pm(e)}return e.prototype.get=function(e){var t=this,n=Wm(e);return this._delegate.get(n).then((function(e){return new qm(t._firestore,new Zp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Wm(e);return n?(Yd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Wm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ne([a,t,n],i)),this},e.prototype.delete=function(e){var t=Wm(e);return this._delegate.delete(t),this},e}(),Lm=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Wm(e);return n?(Yd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Wm(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Ne([a,t,n],i)),this},e.prototype.delete=function(e){var t=Wm(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Mm=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new em(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bm(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Pm(t),n),i.set(n,o)),o},e}();Mm.su=new WeakMap;var Fm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pm(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new qo(Vo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new op(n._delegate,r,new _a(t)))},e.eu=function(t,n,r){return new e(n,new op(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Qm(this.firestore,up(this._delegate,e))}catch(e){throw jm(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Ke(e))instanceof op&&lp(this._delegate,e)},e.prototype.set=function(e,t){t=Yd("DocumentReference.set",t);try{return t?Sm(this._delegate,e,t):Sm(this._delegate,e)}catch(e){throw jm(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?_m(this._delegate,e):_m.apply(void 0,Ne([this._delegate,e,t],n))}catch(e){throw jm(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Tm(tp((e=this._delegate).firestore,pp),[new nu(e._key,qs.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Um(t),i=Vm(t,(function(t){return new qm(e.firestore,new Zp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xm(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=tp(e,op);var t=tp(e.firestore,pp),n=mp(t),r=new Em(t);return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var n;return Te(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return xe(this,void 0,void 0,(function(){var r,i;return Te(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Yo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new qo(Vo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_h(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Rd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Zp(t,r,e._key,n,new Jp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=tp(e,op);var t=tp(e.firestore,pp);return jd(mp(t),e._key,{source:"server"}).then((function(n){return km(t,e,n)}))}(this._delegate):function(e){e=tp(e,op);var t=tp(e.firestore,pp);return jd(mp(t),e._key).then((function(n){return km(t,e,n)}))}(this._delegate)).then((function(e){return new qm(t.firestore,new Zp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function jm(e,t,n){return e.message=e.message.replace(t,n),e}function Um(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!dp(r))return r}return{}}function Vm(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dp(e[0])?e[0]:dp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Fm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return rm(this._delegate,e._delegate)},e}(),Bm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(qm),zm=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pm(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,am(this._delegate,function(e,t,n){var r=t,i=Xp("where",e);return new sm(i,r,n)}(t,n,r)))}catch(t){throw jm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,am(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Xp("orderBy",e);return new um(r,n)}(t,n)))}catch(t){throw jm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,am(this._delegate,function(e){return np("limit",e),new cm("limit",e,"F")}(t)))}catch(t){throw jm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,am(this._delegate,function(e){return np("limitToLast",e),new cm("limitToLast",e,"L")}(t)))}catch(t){throw jm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lm("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw jm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lm("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw jm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fm("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw jm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,am(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fm("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw jm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return fp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=tp(e,ap);var t=tp(e.firestore,pp),n=mp(t),r=new Em(t);return function(e,t){var n=this,r=new Pc;return e.asyncQueue.enqueueAndForget((function(){return xe(n,void 0,void 0,(function(){var n;return Te(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return xe(this,void 0,void 0,(function(){var r,i,o,a,s;return Te(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,cf(e,t,!0)];case 1:return s=u.sent(),r=new Vh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=_h(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Rd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new tm(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=tp(e,ap);var t=tp(e.firestore,pp),n=mp(t),r=new Em(t);return Ud(n,e._query,{source:"server"}).then((function(n){return new tm(t,r,e,n)}))}(this._delegate):function(e){e=tp(e,ap);var t=tp(e.firestore,pp),n=mp(t),r=new Em(t);return im(e._query),Ud(n,e._query).then((function(n){return new tm(t,r,e,n)}))}(this._delegate)).then((function(e){return new Hm(t.firestore,new tm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Um(t),i=Vm(t,(function(t){return new Hm(e.firestore,new tm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xm(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Km=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Bm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Hm=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new zm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Bm(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Km(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Bm(n._firestore,r))}))},e.prototype.isEqual=function(e){return rm(this._delegate,e._delegate)},e}(),Qm=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Fm(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Fm(this.firestore,void 0===e?cp(this._delegate):cp(this._delegate,e))}catch(e){throw jm(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=tp(e.firestore,pp),r=cp(e),i=vm(e.converter,t);return Tm(n,[Ap(Cp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qs.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Fm(t.firestore,e)}))},t.prototype.isEqual=function(e){return lp(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Mm.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(zm);function Wm(e){return tp(e,op)}var Gm=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(bp.bind.apply(bp,Ne([void 0],e)))}return e.documentId=function(){return new e(la.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Ke(e))instanceof bp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),$m=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Pp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Dp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Rp("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Lp("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Mp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Ym,Xm={Firestore:Om,GeoPoint:Sp,Timestamp:na,Blob:Am,Transaction:Rm,WriteBatch:Lm,DocumentReference:Fm,DocumentSnapshot:qm,Query:zm,QueryDocumentSnapshot:Bm,QuerySnapshot:Hm,CollectionReference:Qm,FieldPath:Gm,FieldValue:$m,setLogLevel:function(e){var t;t=e,Bo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new He("firestore",(function(e){return function(e,t){return new Om(e,new pp(e,t),new Dm)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Xm)))})(Ym=Et),Ym.registerVersion("@firebase/firestore","2.4.1");Et.initializeApp({apiKey:"AIzaSyA_UExSLbEOratlpoM_BJdzGrNAcW4RYSY",authDomain:"chef-samurai-site.firebaseapp.com",projectId:"chef-samurai-site",storageBucket:"chef-samurai-site.appspot.com",messagingSenderId:"660432690716",appId:"1:660432690716:web:1c4a8fedbc102321f3c9d9"});const Jm=Et.firestore();const Zm=n.p+"static/media/trashcan.1129c53a10f3c716357028ea030e9d23.svg";function ey(e){let{recipes:t,currentPage:n,totalPages:r,onPageChange:i}=e;if(0===t.length)return(0,de.jsx)("div",{className:"text-center py-12",children:(0,de.jsx)("p",{className:"text-gray-500 text-lg",children:"Nenhuma receita encontrada..."})});return(0,de.jsxs)("div",{children:[(0,de.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e=>(0,de.jsxs)("div",{className:"bg-warm-white rounded-xl shadow-warm p-6 border border-golden border-opacity-20 group hover:shadow-food transition-all duration-300 hover:-translate-y-1 relative",children:[(0,de.jsx)("button",{onClick:()=>(e=>{window.confirm("Tem certeza que deseja deletar esta receita?")&&Jm.collection("recipes").doc(e).delete()})(e.id),className:"absolute top-3 right-3 p-2 bg-warm-red bg-opacity-10 hover:bg-warm-red hover:bg-opacity-20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Deletar receita",children:(0,de.jsx)("img",{src:Zm,alt:"Deletar receita",className:"w-4 h-4"})}),(0,de.jsxs)("div",{className:"p-6",children:[(0,de.jsx)("h3",{className:"text-xl font-semibold text-charcoal mb-2",children:e.title}),(0,de.jsxs)("p",{className:"text-sm text-paprika mb-3",children:["Tempo: ",e.cookingTime]}),(0,de.jsxs)("div",{className:"text-brown text-sm mb-4",children:[e.method.substring(0,100),"..."]}),(0,de.jsx)(le,{to:"/recipes/".concat(e.id),className:"bg-tomato hover:bg-orange text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 shadow-warm w-full text-center block",children:"Ver Receita Completa"})]})]},e.id)))}),r>1&&(0,de.jsxs)("div",{className:"flex justify-center items-center mt-12 space-x-2",children:[(0,de.jsx)("button",{onClick:()=>i(n-1),disabled:1===n,className:"px-4 py-2 bg-cream text-brown rounded-lg hover:bg-golden hover:text-charcoal disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Anterior"}),(0,de.jsx)("div",{className:"flex space-x-1",children:Array.from({length:r},((e,t)=>t+1)).map((e=>(0,de.jsx)("button",{onClick:()=>i(e),className:"px-3 py-2 rounded-lg transition-colors duration-200 ".concat(n===e?"bg-tomato text-white":"bg-cream text-brown hover:bg-golden hover:text-charcoal"),children:e},e)))}),(0,de.jsx)("button",{onClick:()=>i(n+1),disabled:n===r,className:"px-4 py-2 bg-cream text-brown rounded-lg hover:bg-golden hover:text-charcoal disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"Pr\xf3ximo"})]})]})}function ty(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(1),[o,a]=(0,e.useState)(!1),[s,u]=(0,e.useState)(!1);(0,e.useEffect)((()=>{a(!0);const e=Jm.collection("recipes").onSnapshot((e=>{if(e.empty)u("Nenhuma receita para mostrar"),a(!1);else{let t=[];e.docs.forEach((e=>{t.push(we({id:e.id},e.data()))})),n(t),a(!1)}}),(e=>{u(e.message),a(!1)}));return()=>e()}),[]);const c=Math.ceil(t.length/6),l=6*(r-1),f=l+6,h=t.slice(l,f);return(0,de.jsx)("div",{className:"min-h-screen py-8",children:(0,de.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,de.jsxs)("div",{className:"text-center mb-12",children:[(0,de.jsx)("h1",{className:"text-4xl font-bold text-charcoal mb-4",children:"Receitas Deliciosas"}),(0,de.jsx)("p",{className:"text-lg text-brown max-w-2xl mx-auto",children:"Descubra receitas incr\xedveis e compartilhe suas cria\xe7\xf5es culin\xe1rias"}),t.length>0&&(0,de.jsxs)("p",{className:"text-sm text-paprika mt-2",children:[t.length," receita",1!==t.length?"s":""," encontrada",1!==t.length?"s":""]})]}),s&&(0,de.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:(0,de.jsx)("p",{className:"text-red-600",children:s})}),o&&(0,de.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,de.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,de.jsx)("p",{className:"ml-4 text-gray-600",children:"Carregando receitas..."})]}),h.length>0&&(0,de.jsx)(ey,{recipes:h,currentPage:r,totalPages:c,onPageChange:e=>{i(e),window.scrollTo({top:0,behavior:"smooth"})}})]})})}function ny(){const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(""),[s,u]=(0,e.useState)(""),[c,l]=(0,e.useState)([]),f=(0,e.useRef)(null),h=ne();return(0,de.jsx)("div",{className:"min-h-screen py-8",children:(0,de.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,de.jsxs)("div",{className:"text-center mb-12",children:[(0,de.jsx)("h1",{className:"text-4xl font-bold text-charcoal mb-4",children:"Criar Nova Receita"}),(0,de.jsx)("p",{className:"text-lg text-brown",children:"Compartilhe sua receita deliciosa com o mundo!"})]}),(0,de.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,de.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n={title:t,ingredients:c,method:r,cookingTime:o+" minutes"};try{Jm.collection("recipes").add(n),h.push("/")}catch(i){console.log(i)}},className:"space-y-8",children:[(0,de.jsx)("div",{className:"bg-warm-white rounded-xl shadow-warm p-6 border border-golden border-opacity-20",children:(0,de.jsxs)("label",{className:"block",children:[(0,de.jsx)("span",{className:"text-lg font-semibold text-charcoal mb-3 block",children:"Nome da Receita"}),(0,de.jsx)("input",{type:"text",onChange:e=>n(e.target.value),value:t,placeholder:"Ex: Bolo de Chocolate",className:"w-full px-4 py-3 border border-golden border-opacity-30 rounded-lg focus:ring-2 focus:ring-tomato focus:border-transparent transition-all duration-200 bg-warm-white",required:!0})]})}),(0,de.jsx)("div",{className:"bg-warm-white rounded-xl shadow-warm p-6 border border-golden border-opacity-20",children:(0,de.jsxs)("label",{className:"block",children:[(0,de.jsx)("span",{className:"text-lg font-semibold text-charcoal mb-3 block",children:"Ingredientes"}),(0,de.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,de.jsx)("input",{type:"text",onChange:e=>u(e.target.value),value:s,ref:f,placeholder:"Ex: 2 x\xedcaras de farinha",className:"flex-1 px-4 py-3 border border-golden border-opacity-30 rounded-lg focus:ring-2 focus:ring-tomato focus:border-transparent transition-all duration-200 bg-warm-white"}),(0,de.jsx)("button",{type:"button",onClick:e=>{e.preventDefault();const t=s.trim();t&&!c.includes(t)&&l((e=>[...e,t])),u(""),f.current.focus()},className:"bg-fresh-green hover:bg-herb text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 shadow-warm px-6",children:"Adicionar"})]}),c.length>0&&(0,de.jsxs)("div",{className:"bg-fresh-green bg-opacity-10 rounded-lg p-4",children:[(0,de.jsx)("p",{className:"text-sm font-medium text-charcoal mb-2",children:"Ingredientes adicionados:"}),(0,de.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map((e=>(0,de.jsxs)("span",{className:"bg-fresh-green text-white px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,de.jsx)("button",{type:"button",onClick:()=>{return t=e,void l(c.filter((e=>e!==t)));var t},className:"text-white hover:text-warm-red",children:"\xd7"})]},e)))})]})]})}),(0,de.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:(0,de.jsxs)("label",{className:"block",children:[(0,de.jsx)("span",{className:"text-lg font-semibold text-gray-700 mb-3 block",children:"Modo de Preparo"}),(0,de.jsx)("textarea",{onChange:e=>i(e.target.value),value:r,placeholder:"Descreva passo a passo como preparar a receita...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white min-h-[200px] resize-y",required:!0})]})}),(0,de.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:(0,de.jsxs)("label",{className:"block",children:[(0,de.jsx)("span",{className:"text-lg font-semibold text-gray-700 mb-3 block",children:"Tempo de Preparo (minutos)"}),(0,de.jsx)("input",{type:"number",onChange:e=>a(e.target.value),value:o,placeholder:"Ex: 30",className:"w-full max-w-xs px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",required:!0})]})}),(0,de.jsx)("div",{className:"text-center",children:(0,de.jsx)("button",{type:"submit",className:"bg-tomato hover:bg-orange text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200 shadow-warm text-lg",children:"Criar Receita"})})]})})]})})}const ry=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";const[r,i]=(0,e.useState)(null),[o,a]=(0,e.useState)(!1),[s,u]=(0,e.useState)(null),[c,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=new AbortController,r=async n=>{a(!0);try{const r=await fetch(t,we(we({},n),{},{signal:e.signal}));if(!r.ok)throw new Error(r.statusText);const o=await r.json();a(!1),i(o),u(null)}catch(r){"abortError"===r.name?console.log("the fetch was aborted"):(a(!1),u("Could not fetch the data"))}};return"GET"===n&&r(),"POST"===n&&c&&r(c),()=>{e.abort()}}),[t,c,n]),{data:r,isPending:o,error:s,postData:e=>{l({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}};function iy(){const e=re().search,t=new URLSearchParams(e).get("q"),n="http://localhost:3000/recipes?q="+t,{error:r,isPending:i,data:o}=ry(n);return(0,de.jsxs)("div",{children:[(0,de.jsxs)("h2",{className:"page-title",children:['Nenuma receita encontrada para "',t,'".']}),r&&(0,de.jsx)("p",{className:"error",children:r}),i&&(0,de.jsx)("p",{className:"loading",children:"Loading..."}),o&&(0,de.jsx)(ey,{recipes:o})]})}function oy(){const{id:t}=function(){var e=te(B).match;return e?e.params:{}}(),[n,r]=(0,e.useState)(null),[i,o]=(0,e.useState)(!1),[a,s]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{o(!0);const e=Jm.collection("recipes").doc(t).onSnapshot((e=>{e.exists?(o(!1),r(e.data())):(o(!1),s("N\xe3o foi poss\xedvel encontrar uma receita"))}));return()=>e()}),[t]),(0,de.jsx)("div",{className:"min-h-screen py-8",children:(0,de.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,de.jsx)("nav",{className:"mb-8",children:(0,de.jsx)(le,{to:"/",className:"text-blue-500 hover:text-blue-600 transition-colors duration-200",children:"\u2190 Voltar para receitas"})}),a&&(0,de.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:(0,de.jsx)("p",{className:"text-red-600 text-lg",children:a})}),i&&(0,de.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,de.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,de.jsx)("p",{className:"ml-4 text-gray-600",children:"Carregando receita..."})]}),n&&(0,de.jsxs)("div",{className:"bg-warm-white rounded-2xl shadow-food overflow-hidden",children:[(0,de.jsxs)("div",{className:"bg-food-gradient text-white p-8",children:[(0,de.jsx)("h1",{className:"text-4xl font-bold mb-4",children:n.title}),(0,de.jsx)("div",{className:"flex items-center justify-center space-x-4",children:(0,de.jsxs)("div",{className:"flex items-center bg-warm-white bg-opacity-20 rounded-lg px-4 py-2",children:[(0,de.jsx)("span",{className:"text-2xl mr-2",children:"\u23f1\ufe0f"}),(0,de.jsx)("span",{className:"font-medium",children:n.cookingTime})]})})]}),(0,de.jsxs)("div",{className:"p-8",children:[(0,de.jsxs)("div",{className:"mb-8",children:[(0,de.jsxs)("h2",{className:"text-2xl font-bold text-charcoal mb-6 flex items-center",children:[(0,de.jsx)("span",{className:"text-3xl mr-3",children:"\ud83e\udd58"}),"Ingredientes"]}),(0,de.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.ingredients&&n.ingredients.map(((e,t)=>(0,de.jsxs)("div",{className:"bg-cream rounded-lg p-4 flex items-center hover:bg-golden hover:bg-opacity-20 transition-colors duration-200",children:[(0,de.jsx)("span",{className:"w-2 h-2 bg-tomato rounded-full mr-3"}),(0,de.jsx)("span",{className:"text-brown",children:e})]},t)))})]}),(0,de.jsxs)("div",{children:[(0,de.jsxs)("h2",{className:"text-2xl font-bold text-charcoal mb-6 flex items-center",children:[(0,de.jsx)("span",{className:"text-3xl mr-3",children:"\ud83d\udc68\u200d\ud83c\udf73"}),"Modo de Preparo"]}),(0,de.jsx)("div",{className:"bg-cream rounded-xl p-6",children:(0,de.jsx)("p",{className:"text-brown leading-relaxed text-lg whitespace-pre-line",children:n.method})})]}),(0,de.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,de.jsx)(le,{to:"/",className:"bg-tomato hover:bg-orange text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 shadow-warm text-center",children:"Ver Todas as Receitas"}),(0,de.jsx)(le,{to:"/create",className:"bg-fresh-green hover:bg-herb text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 shadow-warm text-center",children:"Criar Nova Receita"})]})]})]})]})})}const ay=function(){return(0,de.jsx)("div",{className:"min-h-screen bg-warm-gradient text-charcoal",children:(0,de.jsxs)(ie,{children:[(0,de.jsx)(me,{}),(0,de.jsx)("main",{className:"min-h-screen",children:(0,de.jsxs)(ee,{children:[(0,de.jsx)(G,{exact:!0,path:"/",children:(0,de.jsx)(ty,{})}),(0,de.jsx)(G,{exact:!0,path:"/create",children:(0,de.jsx)(ny,{})}),(0,de.jsx)(G,{exact:!0,path:"/search",children:(0,de.jsx)(iy,{})}),(0,de.jsx)(G,{exact:!0,path:"/Recipes/:id",children:(0,de.jsx)(oy,{})})]})})]})})},sy=(0,e.createContext)(),uy=(e,t)=>{switch(t.type){case"CHANGE_COLOR":return we(we({},e),{},{color:t.payload});case"CHANGE_MODE":return we(we({},e),{},{mode:t.payload});default:return e}};function cy(t){let{children:n}=t;const[r,i]=(0,e.useReducer)(uy,{color:"#582479c",mode:"white"});return(0,de.jsx)(sy.Provider,{value:we(we({},r),{},{changeColor:e=>{i({type:"CHANGE_COLOR",payload:e})},changeMode:e=>{i({type:"CHANGE_MODE",payload:e})}}),children:n})}t.render((0,de.jsx)(e.StrictMode,{children:(0,de.jsx)(cy,{children:(0,de.jsx)(ay,{})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.ff95ee75.js.map